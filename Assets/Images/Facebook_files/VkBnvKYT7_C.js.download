if (self.CavalryLogger) { CavalryLogger.start_js(["5TuBv"]); }

__d("GraphQLSubscriptionsLoggerEvent",[],(function a(b,c,d,e,f,g){f.exports={SYSTEM_SUBSCRIBE:"subscribe",SYSTEM_UNSUBSCRIBE:"unsubscribe",CLIENT_SUBSCRIBE:"client_subscribe",CLIENT_UNSUBSCRIBE:"client_unsubscribe",PUBLISH:"publish",SEND:"send",GENPAYLOAD:"genpayload",GENTOPIC:"gentopic",RECEIVEPAYLOAD:"receivepayload"};}),null);
__d("GraphQLSubscriptionsMechanism",[],(function a(b,c,d,e,f,g){f.exports={SKYWALKER:"skywalker"};}),null);
__d("PagesMessagingActionPlacement",[],(function a(b,c,d,e,f,g){f.exports={SPRINGBOARD_INLINE_ACTION:"springboard_inline_action",THREAD_LIST_BATCH_ACTION:"thread_list_batch_action",THREAD_ROW_ACTION_ICON:"thread_row_action_icon",MESSAGE_DIALOG_ACTION_LIST:"message_dialog_action_list",MESSAGE_DIALOG_OPENING:"message_dialog_opening",MESSAGE_DIALOG_SHOWN:"message_dialog_shown",THREAD_TITLE_BAR:"thread_title_bar",HOME_PAGE_PAGELET_INLINE_ACTION:"home_page_pagelet_inline_action",UNKNOWN:"unknown"};}),null);
__d('PagesMessengerThreadUtils',['invariant','MessagingTag','PageMessageEnumTag'],(function a(b,c,d,e,f,g,h){var i='CUSTOM_TAG_',j='WITH_FLAG_',k={isFlagThread:function l(m){if(m&&m.page_thread_info&&'flagged' in m.page_thread_info)return m.page_thread_info.flagged;return false;},isPageSpecficEnumFilter:function l(m){if(m===c('PageMessageEnumTag').FLAG||m===c('PageMessageEnumTag').IMPORTANT)return true;return false;},isCustomTagsFilter:function l(m){return m.startsWith(i);},isCustomTagsWithFlagFilter:function l(m){return m.startsWith(i+j);},getCustomTagsFilter:function l(m,n){return i+(n?j:'')+JSON.stringify(m.sort());},parseCustomTagsFilter:function l(m){if(!this.isCustomTagsFilter(m))h(0);var n=this.isCustomTagsWithFlagFilter(m);return JSON.parse(m.substring(i.length+(n?j.length:0)));},getBatchActionMenuParam:function l(m){var n=false,o=false,p=false,q=false,r=false,s=false,t=false,u=false,v=false;if(m.folder===c('MessagingTag').INBOX&&!m.is_archived){n=true;q=true;if(k.isFlagThread(m)){t=true;}else s=true;if(m&&m.unread_count===0){v=true;}else u=true;}else if(m.folder===c('MessagingTag').SPAM){r=true;}else if(m.is_archived){o=true;p=true;}if(m&&m.unread_count===0){v=true;}else u=true;return {showArchive:n,showDelete:o,showUnarchive:p,showSpam:q,showUnspam:r,showFlag:s,showUnflag:t,showMarkRead:u,showMarkUnread:v,showHideContextCard:false,showShowContextCard:false};}};f.exports=k;}),null);
__d('GraphQLSubscriptionsTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:GraphQLSubscriptionsLoggerConfig',this.$GraphQLSubscriptionsTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:GraphQLSubscriptionsLoggerConfig',this.$GraphQLSubscriptionsTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$GraphQLSubscriptionsTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$GraphQLSubscriptionsTypedLogger1=babelHelpers['extends']({},this.$GraphQLSubscriptionsTypedLogger1,j);return this;};h.prototype.setAppID=function(j){this.$GraphQLSubscriptionsTypedLogger1.appid=j;return this;};h.prototype.setAppversion=function(j){this.$GraphQLSubscriptionsTypedLogger1.appversion=j;return this;};h.prototype.setClientSampleWeight=function(j){this.$GraphQLSubscriptionsTypedLogger1.client_sample_weight=j;return this;};h.prototype.setClientUserID=function(j){this.$GraphQLSubscriptionsTypedLogger1.client_userid=j;return this;};h.prototype.setClienttime=function(j){this.$GraphQLSubscriptionsTypedLogger1.clienttime=j;return this;};h.prototype.setDebugData=function(j){this.$GraphQLSubscriptionsTypedLogger1.debug_data=j;return this;};h.prototype.setEvent=function(j){this.$GraphQLSubscriptionsTypedLogger1.event=j;return this;};h.prototype.setExceptionData=function(j){this.$GraphQLSubscriptionsTypedLogger1.exception_data=j;return this;};h.prototype.setExceptionType=function(j){this.$GraphQLSubscriptionsTypedLogger1.exception_type=j;return this;};h.prototype.setIsemployee=function(j){this.$GraphQLSubscriptionsTypedLogger1.isemployee=j;return this;};h.prototype.setMechanism=function(j){this.$GraphQLSubscriptionsTypedLogger1.mechanism=j;return this;};h.prototype.setMutationType=function(j){this.$GraphQLSubscriptionsTypedLogger1.mutation_type=j;return this;};h.prototype.setName=function(j){this.$GraphQLSubscriptionsTypedLogger1.name=j;return this;};h.prototype.setPublishCluster=function(j){this.$GraphQLSubscriptionsTypedLogger1.publish_cluster=j;return this;};h.prototype.setPublishID=function(j){this.$GraphQLSubscriptionsTypedLogger1.publish_id=j;return this;};h.prototype.setPublishTimeMs=function(j){this.$GraphQLSubscriptionsTypedLogger1.publish_time_ms=j;return this;};h.prototype.setQueryID=function(j){this.$GraphQLSubscriptionsTypedLogger1.query_id=j;return this;};h.prototype.setQueryParams=function(j){this.$GraphQLSubscriptionsTypedLogger1.query_params=c('GeneratedLoggerUtils').serializeMap(j);return this;};h.prototype.setSessionID=function(j){this.$GraphQLSubscriptionsTypedLogger1.session_id=j;return this;};h.prototype.setSubscriptionCall=function(j){this.$GraphQLSubscriptionsTypedLogger1.subscription_call=j;return this;};h.prototype.setTopic=function(j){this.$GraphQLSubscriptionsTypedLogger1.topic=j;return this;};h.prototype.setTopicData=function(j){this.$GraphQLSubscriptionsTypedLogger1.topic_data=c('GeneratedLoggerUtils').serializeMap(j);return this;};h.prototype.setVC=function(j){this.$GraphQLSubscriptionsTypedLogger1.vc=j;return this;};var i={appid:true,appversion:true,client_sample_weight:true,client_userid:true,clienttime:true,debug_data:true,event:true,exception_data:true,exception_type:true,isemployee:true,mechanism:true,mutation_type:true,name:true,publish_cluster:true,publish_id:true,publish_time_ms:true,query_id:true,query_params:true,session_id:true,subscription_call:true,topic:true,topic_data:true,vc:true};f.exports=h;}),null);
__d('PagesManagerPerfTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:PagesManagerPerfLoggerConfig',this.$PagesManagerPerfTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:PagesManagerPerfLoggerConfig',this.$PagesManagerPerfTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$PagesManagerPerfTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$PagesManagerPerfTypedLogger1=babelHelpers['extends']({},this.$PagesManagerPerfTypedLogger1,j);return this;};h.prototype.setEventName=function(j){this.$PagesManagerPerfTypedLogger1.event_name=j;return this;};h.prototype.setEventSeriesID=function(j){this.$PagesManagerPerfTypedLogger1.event_series_id=j;return this;};h.prototype.setPageID=function(j){this.$PagesManagerPerfTypedLogger1.page_id=j;return this;};h.prototype.setPerfTime=function(j){this.$PagesManagerPerfTypedLogger1.perf_time=j;return this;};h.prototype.setVC=function(j){this.$PagesManagerPerfTypedLogger1.vc=j;return this;};var i={event_name:true,event_series_id:true,page_id:true,perf_time:true,vc:true};f.exports=h;}),null);
__d('PagesMessagingPerfTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:PagesMessagingPerfLoggerConfig',this.$PagesMessagingPerfTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:PagesMessagingPerfLoggerConfig',this.$PagesMessagingPerfTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$PagesMessagingPerfTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$PagesMessagingPerfTypedLogger1=babelHelpers['extends']({},this.$PagesMessagingPerfTypedLogger1,j);return this;};h.prototype.setEventName=function(j){this.$PagesMessagingPerfTypedLogger1.event_name=j;return this;};h.prototype.setExceptionCode=function(j){this.$PagesMessagingPerfTypedLogger1.exception_code=j;return this;};h.prototype.setExceptionMessage=function(j){this.$PagesMessagingPerfTypedLogger1.exception_message=j;return this;};h.prototype.setPageID=function(j){this.$PagesMessagingPerfTypedLogger1.page_id=j;return this;};h.prototype.setPerfTime=function(j){this.$PagesMessagingPerfTypedLogger1.perf_time=j;return this;};h.prototype.setStack=function(j){this.$PagesMessagingPerfTypedLogger1.stack=j;return this;};h.prototype.setVC=function(j){this.$PagesMessagingPerfTypedLogger1.vc=j;return this;};var i={event_name:true,exception_code:true,exception_message:true,page_id:true,perf_time:true,stack:true,vc:true};f.exports=h;}),null);
__d('MercuryPageServerRequests',['CurrentUser','MercuryAPIArgsSource','MercuryAssert','MercuryServerRequests','MercurySingletonProvider','MessagingTag','PageMessageEnumTag','PagesEventType','PagesMessagingPerfTypedLogger','PagesMessengerThreadUtils','MercuryServerDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('MercuryAPIArgsSource').MERCURY;h=babelHelpers.inherits(k,c('MercuryServerRequests'));i=h&&h.prototype;k.getForFBID=function(m){return l.getForFBID(m);};k.get=function(){return l.get();};function k(m){i.constructor.call(this,m);var n={'/pages/messaging/thread_tag/add/':{request_user_id:m,mode:c('MercuryServerDispatcher').BATCH_SUCCESSIVE,batch_function:this.$MercuryPageServerRequests1,handler:function(o,p){return this.__handleUpdate(o,p);}.bind(this)},'/pages/messaging/thread_tag/remove/':{request_user_id:m,mode:c('MercuryServerDispatcher').BATCH_SUCCESSIVE,batch_function:this.$MercuryPageServerRequests1,handler:function(o,p){return this.__handleUpdate(o,p);}.bind(this)},'/pages/messaging/thread_tag/list/':{request_user_id:m,mode:c('MercuryServerDispatcher').IMMEDIATE,handler:function(o,p){return this.__handleUpdate(o,p);}.bind(this)},'/pages/messaging/thread_custom_tags/list/':{request_user_id:m,mode:c('MercuryServerDispatcher').IMMEDIATE,handler:function(o,p){return this.__handleUpdate(o,p);}.bind(this)},'/pages/messaging/create_note/':{request_user_id:m,mode:c('MercuryServerDispatcher').IMMEDIATE,handler:function(o,p){return this.__handleUpdate(o,p);}.bind(this)}};c('MercuryServerDispatcher').registerEndpoints(n);}k.prototype.$MercuryPageServerRequests1=function(m,n){var o=m?m.tag_name:n.tag_name,p=m?m.thread_ids:[],q=n?n.thread_ids:[],r=p.concat(q),s={tag_name:o,thread_ids:r};return s;};k.prototype.addThreadFlag=function(m,n){c('MercuryAssert').isThreadID(m);this.__threadIDMap.getServerIDFromClientID(m,function(o){var p={thread_ids:[o],tag_name:c('PageMessageEnumTag').FLAG};this.__sendRequest('/pages/messaging/thread_tag/add/',p);}.bind(this));};k.prototype.createNote=function(m,n,o){c('MercuryAssert').isThreadID(o);this.__threadIDMap.getServerIDFromClientID(o,function(p){var q={body:m,message_id:n,other_user_fbid:p};this.__sendRequest('/pages/messaging/create_note/',q);}.bind(this));};k.prototype.fetchThreadlistInfo=function(m,n){var o=arguments.length<=2||arguments[2]===undefined?c('MessagingTag').INBOX:arguments[2],p=arguments[3],q=arguments.length<=4||arguments[4]===undefined?j:arguments[4],r={folder:o,offset:m,limit:n,tag_name:null,custom_tags_filter:null,custom_tags:[],enum_tag:''};if(c('PagesMessengerThreadUtils').isPageSpecficEnumFilter(p)){r.tag_name=p;this.__sendRequest('/pages/messaging/thread_tag/list/',r);return;}if(p&&c('PagesMessengerThreadUtils').isCustomTagsFilter(p)){r.custom_tags_filter=p;r.custom_tags=c('PagesMessengerThreadUtils').parseCustomTagsFilter(p);if(c('PagesMessengerThreadUtils').isCustomTagsWithFlagFilter(p))r.enum_tag=c('PageMessageEnumTag').FLAG;this.__sendRequest('/pages/messaging/thread_custom_tags/list/',r);return;}i.fetchThreadlistInfo.call(this,m,n,o,p,q);};k.prototype.removeThreadFlag=function(m,n){c('MercuryAssert').isThreadID(m);this.__threadIDMap.getServerIDFromClientID(m,function(o){var p={thread_ids:[o],tag_name:c('PageMessageEnumTag').FLAG};this.__sendRequest('/pages/messaging/thread_tag/remove/',p);}.bind(this));};k.prototype.toString=function(){return 'MercuryPageServerRequests';};k.prototype.__logMercurySendError=function(m){new (c('PagesMessagingPerfTypedLogger'))().setPageID(this.__getFBID()).setEventName(c('PagesEventType').MESSAGES_SEND_MESSAGE_JS_HANDLE_ERROR).setExceptionMessage(m.error_data.description).setExceptionCode(m.error_data.code).log();i.__logMercurySendError.call(this,m);};k.prototype.__getForAsyncRequest=function(m){var n=m.getData(),o=n.request_user_id?n.request_user_id:c('CurrentUser').getID();return k.getForFBID(o);};var l=new (c('MercurySingletonProvider'))(k);f.exports=k;}),null);
__d('MercuryPageThreadActions',['MercuryActionType','MercuryPayloadSource','MercuryPageServerRequests','MercurySingletonMixin','MercuryThreadActions'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('MercuryThreadActions'));i=h&&h.prototype;function j(k){'use strict';i.constructor.call(this,k);this.__serverRequests=c('MercuryPageServerRequests').getForFBID(k);}j.prototype.addFlag=function(k,l){'use strict';this.batchFlag([k],l);};j.prototype.batchAddFlag=function(k,l){'use strict';k.forEach(function(m){this.__serverRequests.addThreadFlag(m,l);}.bind(this));this.__dispatcher.handleUpdate(this.$MercuryPageThreadActions1(k,true,l));};j.prototype.removeFlag=function(k,l){'use strict';this.batchRemoveFlag([k],l);};j.prototype.batchRemoveFlag=function(k,l){'use strict';k.forEach(function(m){this.__serverRequests.removeThreadFlag(m,l);}.bind(this));this.__dispatcher.handleUpdate(this.$MercuryPageThreadActions1(k,false,l));};j.prototype.$MercuryPageThreadActions1=function(k,l,m){'use strict';return this.__constructClientPayload(k,c('MercuryActionType').CHANGE_FLAG,c('MercuryPayloadSource').CLIENT_CHANGE_FLAG,{mark_as_flag:l,source:m});};Object.assign(j,c('MercurySingletonMixin'),{_instances:{}});f.exports=j;}),null);
__d('MercuryThreadSnippet.react',['cx','fbt','immutable','ImmutableObject','MercuryAttachmentSnippet.react','MercuryConfig','MercuryIDs','MessengerTextWithEmoticons.react','MNAdsLogMessageUtils','React','TextWithEmoticons.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.shouldComponentUpdate=function(p){return (this.props.shouldRenderYou!==p.shouldRenderYou||this.props.thread!==p.thread||this.props.viewer!==p.viewer||this.props.className!==p.className||!c('immutable').is(p.participants,this.props.participants));};m.prototype.render=function(){return (c('React').createElement('span',{className:this.props.className},this.$MercuryThreadSnippet1(),this.$MercuryThreadSnippet2()));};m.prototype.$MercuryThreadSnippet1=function(){if(!this.props.thread.snippet||!n(this.props.thread))return null;return (c('React').createElement('span',{className:"_j0r"}));};m.prototype.$MercuryThreadSnippet2=function(){var p=this.props.thread,q=c('MercuryIDs').getParticipantIDFromUserID(this.props.viewer),r=p.snippet,s=this.props.shouldRenderYou;if(p.snippetCount!=null)return i._({"*":"{number} results","268435456":"1 result"},[i.plural(p.snippetCount,'number')]);if(!r&&(p.snippet_attachments&&p.snippet_attachments.length>0||!p.snippet_sender))return this.$MercuryThreadSnippet3(r);var t=this.$MercuryThreadSnippet3(r),u=p.participants?p.participants.length:0;if(p.is_subscribed)u--;c('MNAdsLogMessageUtils').logAdsThreadListImpression(p);var v=o(p);if(v)return i._("{name}: {conversation_snippet}",[i.param('name',v),i.param('conversation_snippet',t)]);if(p.snippet_sender===q){if(!s)return t;return i._("You: {conversation_snippet}",[i.param('conversation_snippet',t)]);}if(u<=1&&!this.props.shouldAlwaysRenderSender)return t;var w=this.props.participants.get(p.snippet_sender);if(!w)return t;var x=w.short_name||w.name;if(p){var y=p.custom_nickname?p.custom_nickname:null,z=c('MercuryIDs').getUserIDFromParticipantID(w.id);if(y&&z&&y[z]){x=y[z];if(c('MercuryConfig').MessengerNewEmojiGK)x=c('React').createElement(c('MessengerTextWithEmoticons.react'),{renderEmoticons:true,renderEmoji:true,text:x});}}if(!x)return t;return i._("{name}: {conversation_snippet}",[i.param('name',x),i.param('conversation_snippet',t)]);};m.prototype.$MercuryThreadSnippet3=function(p){if(p&&p.startsWith('?OTR'))return i._("[encrypted message]");if(p){var q=c('React').createElement(c('TextWithEmoticons.react'),{renderEmoticons:true,renderEmoji:true,text:p.replace(/\r\n|[\r\n]/g,' ')});if(c('MercuryConfig').MessengerNewEmojiGK)q=c('React').createElement(c('MessengerTextWithEmoticons.react'),{renderEmoticons:true,renderEmoji:true,text:p.replace(/\r\n|[\r\n]/g,' ')});return q;}var r=this.props.thread;if(n(r))return (c('React').createElement(c('MercuryAttachmentSnippet.react'),{thread:r,viewer:this.props.viewer}));return null;};function m(){j.apply(this,arguments);}m.propTypes={participants:l.instanceOf(c('immutable').Map).isRequired,shouldAlwaysRenderSender:l.bool,shouldRenderYou:l.bool,thread:l.object.isRequired,viewer:l.string.isRequired};function n(p){return !!(p.snippet_attachments&&p.snippet_attachments.length>0);}function o(p){if(p&&p.snippet_attachments&&p.snippet_attachments[0]&&p.snippet_attachments[0].share&&p.snippet_attachments[0].share.target&&p.snippet_attachments[0].share.target.genie_name)return p.snippet_attachments[0].share.target.genie_name;return null;}f.exports=m;}),null);
__d('MercuryPageOrderedThreadlist',['MercuryOrderedThreadlist','MercurySingletonProvider','MessagingTag','MercuryFilters','MercuryPageServerRequests'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('MercuryOrderedThreadlist'));i=h&&h.prototype;j.getForFBID=function(l){return k.getForFBID(l);};j.get=function(){return k.get();};function j(l){i.constructor.call(this,l);this.$MercuryPageOrderedThreadlist1=l;}j.prototype.getServerRequests=function(){return c('MercuryPageServerRequests').getForFBID(this.$MercuryPageOrderedThreadlist1);};j.prototype.addNonPriorityThreadsWithoutSort=function(l){var m=this.getThreadlistOrderMap(c('MessagingTag').INBOX,c('MercuryFilters').NONPRIORITY);m.addResourcesWithoutSorting(l,m.getCurrentArraySize());};var k=new (c('MercurySingletonProvider'))(j);f.exports=j;}),null);
__d('MercuryPagesChannelHandlerDEPRECATED',['ChannelConstants','MercuryActionType','MercuryChannelHandlerDEPRECATED','MercuryConfig','MercuryPayloadSource','MercurySingletonProvider','MessagingEvent','MessagingRealtimeConstants'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('MercuryChannelHandlerDEPRECATED'));i=h&&h.prototype;j.get=function(){return k.get();};j.getForFBID=function(l){return k.getForFBID(l);};j.prototype.__markAsSeen=function(l,m){if(this.isPayloadForCurrentInstance(m))i.__markAsSeen.call(this,l,m);};j.prototype.__handleMessagingPayload=function(l,m){if(this.isPayloadForCurrentInstance(m))i.__handleMessagingPayload.call(this,l,m);};j.prototype.getRouting=function(){return {pages_messaging:this.__handleMessagingPayload};};j.prototype.__getMessagingPayloadType=function(){return c('ChannelConstants').getArbiterType('pages_messaging');};j.prototype.__getMercuryPayloadType=function(){return '';};j.prototype.__getInboxPayloadType=function(){return '';};j.prototype.isPayloadForCurrentInstance=function(l){var m=l.obj[c('MessagingRealtimeConstants').VIEWER_FBID]+'',n=i.getInstanceFBID.call(this)+'';return m===n;};function j(){h.apply(this,arguments);}var k=new (c('MercurySingletonProvider'))(j);f.exports=j;}),null);
__d('MercurySyncPageEnvironment',['Arbiter','ChannelInitialData','ChannelManager','MercurySyncDeltaHandler'],(function a(b,c,d,e,f,g){'use strict';function h(j,k){if(Object.keys(c('ChannelInitialData')).length===0&&JSON.stringify(c('ChannelInitialData'))===JSON.stringify({}))return;if(!k)k=0;c('MercurySyncDeltaHandler').getForFBID(j);c('ChannelManager').subscribeIrisQueue(j,k.toString());c('Arbiter').inform('MercurySyncDeltaHandler/initSeqID',{fbid:j,seqID:k});}function i(j){}f.exports={setUp:h,tearDown:i};}),null);
__d('PagesManagerPerfLogger',['PagesManagerPerfTypedLogger','Set'],(function a(b,c,d,e,f,g){'use strict';var h=1000;function i(){this.$PagesManagerPerfLogger1=new (c('Set'))();}i.prototype.log=function(j,k){var l=k.perfID+':'+j;if(this.$PagesManagerPerfLogger1.has(l))return;this.$PagesManagerPerfLogger1.add(l);var m=Date.now()/h-k.baseTime;new (c('PagesManagerPerfTypedLogger'))().setPageID(k.pageID).setEventName(j).setEventSeriesID(k.perfID).setPerfTime(Math.round(m)).logVital();};f.exports=new i();}),null);
__d('PagesManagerActionType',['ImmutableObject','keyMirrorRecursive'],(function a(b,c,d,e,f,g){var h=new (c('ImmutableObject'))(c('keyMirrorRecursive')({LIST:{FETCH:'',FETCHED:'',UPDATED:'',LOAD_MORE:'',LOADING:'',PREVENT_SCROLL:'',SELECT:'',DESELECT_ALL:'',VIEW:'',INITIAL_VIEW:'',CLEAR_INITIAL_VIEW:'',SWITCH_PRIORITY:'',SET_PRIORITY_GK:'',SET_RESPONSE_DATA:''},NAVIGATION_UNIT:{CHANGE:'',NOTIFICATION_COUNT_CHANGE:''},FILTER_PANEL:{TOGGLE_PANEL:''},LAYOUT:{HEIGHT_CHANGE:'',LIST_HEIGHT_CHANGE:''},SEARCH:{TOGGLE_SEARCH:'',CHANGE_SEARCH_TERM:'',IS_SEARCHING_CHANGED:'',ADD_SEARCH_CUSTOM_TAG:'',REMOVE_SEARCH_CUSTOM_TAG:'',FETCH_CUSTOM_TAG_THREAD_COUNTS:'',UPDATE_CUSTOM_TAG_THREAD_COUNTS:''}}));f.exports=h;}),null);
__d('PagesManagerDispatcher',['ReactDispatcher_DEPRECATED'],(function a(b,c,d,e,f,g){'use strict';f.exports=new (c('ReactDispatcher_DEPRECATED'))();}),null);
__d('PagesManagerStore',['PagesManagerActionType','FluxStore','Map','PagesManagerDispatcher'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('FluxStore'));i=h&&h.prototype;function j(k){'use strict';i.constructor.call(this,c('PagesManagerDispatcher'));this.$PagesManagerStore6=null;this.$PagesManagerStore1=0;this.$PagesManagerStore2=0;this.$PagesManagerStore3=0;this.$PagesManagerStore4=[];this.$PagesManagerStore5=new (c('Map'))();}j.prototype.__onDispatch=function(k){'use strict';switch(k.type){case c('PagesManagerActionType').LIST.VIEW:this.$PagesManagerStore6=k.listItem;this.__emitChange();break;case c('PagesManagerActionType').LIST.SELECT:this.$PagesManagerStore8(k);this.__emitChange();break;case c('PagesManagerActionType').LAYOUT.HEIGHT_CHANGE:this.$PagesManagerStore1=k.heights.navigationHeight;this.$PagesManagerStore2=k.heights.layoutHeight;this.__emitChange();break;case c('PagesManagerActionType').LAYOUT.LIST_HEIGHT_CHANGE:this.$PagesManagerStore3=k.height;this.__emitChange();break;case c('PagesManagerActionType').LIST.DESELECT_ALL:this.$PagesManagerStore8({rowsAdded:[],rowsRemoved:this.$PagesManagerStore4,selectedRows:[]});this.__emitChange();break;case c('PagesManagerActionType').LIST.INITIAL_VIEW:this.$PagesManagerStore9(k.item);break;case c('PagesManagerActionType').LIST.CLEAR_INITIAL_VIEW:this.$PagesManagerStore7=null;break;default:return;}};j.prototype.$PagesManagerStore9=function(k){'use strict';this.$PagesManagerStore7=k;this.$PagesManagerStore6=k;};j.prototype.$PagesManagerStore8=function(k){'use strict';this.$PagesManagerStore4=k.selectedRows;k.rowsAdded.forEach(function(l){this.$PagesManagerStore5.set(l,true);}.bind(this));k.rowsRemoved.forEach(function(l){this.$PagesManagerStore5.set(l,false);}.bind(this));};j.prototype.getViewingListItem=function(){'use strict';return this.$PagesManagerStore6;};j.prototype.getInitialViewingItem=function(){'use strict';return this.$PagesManagerStore7;};j.prototype.getLayoutHeight=function(){'use strict';return this.$PagesManagerStore2;};j.prototype.getNavigationHeight=function(){'use strict';return this.$PagesManagerStore1;};j.prototype.getListNavigationHeight=function(){'use strict';return this.$PagesManagerStore3;};j.prototype.getIsRowSelected=function(k){'use strict';return this.$PagesManagerStore5.has(k)?this.$PagesManagerStore5.get(k):false;};j.prototype.getSelectedRows=function(){'use strict';return this.$PagesManagerStore4;};j.prototype.isSelectionMode=function(){'use strict';return this.$PagesManagerStore4.length!==0;};f.exports=new j(c('PagesManagerDispatcher'));}),null);
__d('PagesManagerListBatchActionContainer.react',['FluxContainer','PagesManagerStore','React'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.getStores=function(){'use strict';return [c('PagesManagerStore')];};j.calculateState=function(k){'use strict';var l=c('PagesManagerStore').getSelectedRows(),m=l.length>0;return {showBatchAction:m,selectedRows:l};};j.prototype.render=function(){'use strict';var k=this.props,l=k.ChildClass,m=babelHelpers.objectWithoutProperties(k,['ChildClass']);return (c('React').createElement(l,babelHelpers['extends']({},m,{selectedRows:this.state.selectedRows,showBatchAction:this.state.showBatchAction})));};function j(){'use strict';h.apply(this,arguments);}f.exports=c('FluxContainer').create(j);}),null);
__d('PagesManagerAction',['PagesManagerActionType','PagesManagerDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h={viewListItem:function i(j){c('PagesManagerDispatcher').dispatch({type:c('PagesManagerActionType').LIST.VIEW,listItem:j});},clearViewListItem:function i(){c('PagesManagerDispatcher').dispatch({type:c('PagesManagerActionType').LIST.VIEW,listItem:null});},setInitialViewItem:function i(j){c('PagesManagerDispatcher').dispatch({type:c('PagesManagerActionType').LIST.INITIAL_VIEW,item:j});},clearInitialViewItem:function i(){c('PagesManagerDispatcher').dispatch({type:c('PagesManagerActionType').LIST.CLEAR_INITIAL_VIEW});},setHeight:function i(j){c('PagesManagerDispatcher').dispatch({type:c('PagesManagerActionType').LAYOUT.HEIGHT_CHANGE,heights:j});},setListNavigationHeight:function i(j){c('PagesManagerDispatcher').dispatch({type:c('PagesManagerActionType').LAYOUT.LIST_HEIGHT_CHANGE,height:j});},handleSelectionChange:function i(j,k,l){c('PagesManagerDispatcher').dispatch({type:c('PagesManagerActionType').LIST.SELECT,rowsAdded:j,rowsRemoved:k,selectedRows:l});},deselectAll:function i(){c('PagesManagerDispatcher').dispatch({type:c('PagesManagerActionType').LIST.DESELECT_ALL});}};f.exports=h;}),null);
__d('PagesManagerResizeListener',['EventEmitter'],(function a(b,c,d,e,f,g){f.exports=new (c('EventEmitter'))();}),null);
__d('PagesManagerListDetailLayout.react',['cx','Arbiter','PagesManagerAction','PagesManagerResizeListener','React','ReactDOM','ResizeListener','SubscriptionsHandler','Vector','XUICard.react','Grid.react','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j,k=c('Grid.react').GridItem,l=200;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(n,o){'use strict';j.constructor.call(this,n,o);this.state={top:0,height:l};}m.prototype.recalculateHeight=function(){'use strict';var n=c('Vector').getViewportDimensions().y-c('ReactDOM').findDOMNode(this).getBoundingClientRect().top;if(!this.props.fullScreen){n-=30;n-=2;}var o=Math.max(l,n);this.setState({height:o});var p=this.props.navigationSection?c('Vector').getElementDimensions(c('ReactDOM').findDOMNode(this.refs.navigationSection)).y:0;c('PagesManagerAction').setHeight({layoutHeight:o,navigationHeight:p});var q=this.props.fullScreen?0:8;this.setState({top:p+q});};m.prototype.componentDidMount=function(){'use strict';this.recalculateHeight();this.$PagesManagerListDetailLayout1=new (c('SubscriptionsHandler'))();this.$PagesManagerListDetailLayout1.addSubscriptions(c('Arbiter').subscribe('reflow',function(){return this.recalculateHeight();}.bind(this)),c('ResizeListener').add(function(){return this.recalculateHeight();}.bind(this)),c('PagesManagerResizeListener').addListener('change',function(){return this.recalculateHeight();}.bind(this)));};m.prototype.componentWillUnmount=function(){'use strict';this.$PagesManagerListDetailLayout1&&this.$PagesManagerListDetailLayout1.release();};m.prototype.render=function(){'use strict';var n=this.state.height,o=this.state.top,p=!this.props.navigationSection?null:c('React').createElement('div',{className:"_2-97",ref:'navigationSection'},this.props.navigationSection);return (c('React').createElement(c('XUICard.react'),{className:this.props.fullScreen?"_4sno":'',style:{height:n}},p,c('React').createElement('div',{className:"_10ua",style:{top:o}},c('React').createElement(c('Grid.react'),{alignv:'top',className:"_10ue",cols:2},c('React').createElement(k,{className:c('joinClasses')("_10uf",this.props.listClassName)},this.props.listSection),c('React').createElement(k,{className:this.props.detailClassName},this.props.detailSection)))));};f.exports=m;}),null);
__d('PagesManagerListRowContainer.react',['FluxContainer','PagesManagerStore','React'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.getStores=function(){'use strict';return [c('PagesManagerStore')];};j.calculateState=function(k,l){'use strict';var m=false,n=false;if(l&&l.listItem){m=c('PagesManagerStore').getIsRowSelected(l.listItem);n=c('PagesManagerStore').getViewingListItem()===l.listItem;}var o=c('PagesManagerStore').isSelectionMode();return {selected:m,isViewing:n,selectionMode:o};};j.prototype.render=function(){'use strict';var k=this.props,l=k.ChildClass,m=babelHelpers.objectWithoutProperties(k,['ChildClass']);return (c('React').createElement(l,babelHelpers['extends']({ref:'childClass',selected:this.state.selected,isViewing:this.state.isViewing,selectionMode:this.state.selectionMode},m)));};function j(){'use strict';h.apply(this,arguments);}f.exports=c('FluxContainer').create(j,{withProps:true});}),null);
__d('PagesManagerListView.react',['PagesManagerListRowContainer.react','PagesManagerAction','PagesSelectableList.react','React'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.$PagesManagerListView1=function(k){'use strict';c('PagesManagerAction').viewListItem(k);};j.prototype.componentWillUpdate=function(k){'use strict';if(k.navigationKey!==this.props.navigationKey){c('PagesManagerAction').deselectAll();this.refs.selectableList.clearSelection();}};function j(k){'use strict';i.constructor.call(this,k);this.state={scrollableHeight:0};}j.prototype.render=function(){'use strict';var k;if(!this.props.list.length){if(!this.props.initLoading){k=this.props.emptyView;}else k=this.$PagesManagerListView2();}else k=this.$PagesManagerListView3();return (c('React').createElement(c('PagesSelectableList.react'),{actionBarRightComponent:this.props.actionBarRightContainer,deselectAllLabel:'',selectAllLabel:this.props.selectAllLabel,enableOnVisible:this.props.hasMoreItem,forceRequestMoreRows:true,height:this.props.height,loadingIndicator:this.props.loadingMoreSpinner,onSelectionChange:this.props.onSelectionChange,onRequestMoreRows:this.props.onScroll,ref:'selectableList',scrollableAreaMode:true,scrollableAreaHasShadow:false,scrollableWidth:this.props.scrollableWidth},k));};j.prototype.$PagesManagerListView3=function(){'use strict';return this.props.list.map(function(k){return (c('React').createElement(c('PagesManagerListRowContainer.react'),babelHelpers['extends']({ChildClass:this.props.listRowContainer,listItem:k,pageID:this.props.pageID,ref:this.props.getKey(k),key:this.props.getKey(k),onViewingListItem:this.$PagesManagerListView1,type:'li'},this.props.containerProps)));}.bind(this));};j.prototype.clearSelection=function(){'use strict';this.refs.selectableList.clearSelection();};j.prototype.$PagesManagerListView2=function(){'use strict';return c('React').createElement('div',{key:'loading'});};f.exports=j;}),null);
__d('PagesManagerStaticStore',[],(function a(b,c,d,e,f,g){var h={_pageID:'',setPageID:function i(j){this._pageID=j;},getPageID:function i(){return this._pageID;}};f.exports=h;}),null);
__d('PagesManagerDetailContainer.react',['FluxContainer','PagesManagerStore','React'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;function j(k){'use strict';i.constructor.call(this,k);this.state={height:0,viewingListItem:null};}j.getStores=function(){'use strict';return [c('PagesManagerStore')];};j.calculateState=function(k){'use strict';var l=c('PagesManagerStore').getLayoutHeight()-c('PagesManagerStore').getNavigationHeight();return {height:l,viewingListItem:c('PagesManagerStore').getViewingListItem()};};j.prototype.render=function(){'use strict';var k=this.props,l=k.ChildContainerClass,m=babelHelpers.objectWithoutProperties(k,['ChildContainerClass']);return (c('React').createElement(l,babelHelpers['extends']({height:this.state.height,viewingListItem:this.state.viewingListItem,listItemKey:this.props.getListItemKey(this.state.viewingListItem)},m)));};f.exports=c('FluxContainer').create(j);}),null);
__d('PagesManagerListContainer.react',['FluxContainer','PagesManagerAction','PagesManagerStore','React'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;function j(k){'use strict';i.constructor.call(this,k);this.state={height:0};}j.getStores=function(){'use strict';return [c('PagesManagerStore')];};j.calculateState=function(k){'use strict';var l=c('PagesManagerStore').getLayoutHeight()-c('PagesManagerStore').getNavigationHeight();return {height:l};};j.prototype.render=function(){'use strict';var k=this.props,l=k.ChildContainerClass,m=babelHelpers.objectWithoutProperties(k,['ChildContainerClass']);return (c('React').createElement(l,babelHelpers['extends']({height:this.state.height,onSelectionChange:this.$PagesManagerListContainer1},m)));};j.prototype.$PagesManagerListContainer1=function(k){var l=k.rowsAdded,m=k.rowsRemoved,n=k.selectedRows;'use strict';c('PagesManagerAction').handleSelectionChange(l,m,n);};f.exports=c('FluxContainer').create(j);}),null);
__d('AbstractPagesManagerListStore',['invariant','PagesManagerActionType','FluxStore','Map'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('FluxStore'));j=i&&i.prototype;function k(l){'use strict';j.constructor.call(this,l);this.__hasMoreItem=new (c('Map'))();this.__isLoading=false;}k.prototype.__onDispatch=function(l){'use strict';switch(l.type){case c('PagesManagerActionType').LIST.FETCH:this.__handleListFetch(l);break;case c('PagesManagerActionType').LIST.FETCHED:case c('PagesManagerActionType').LIST.UPDATED:this.__emitChange();break;case c('PagesManagerActionType').LIST.LOADING:this.__isLoading=true;this.__emitChange();break;case c('PagesManagerActionType').NAVIGATION_UNIT.CHANGE:case c('PagesManagerActionType').SEARCH.ADD_SEARCH_CUSTOM_TAG:case c('PagesManagerActionType').SEARCH.REMOVE_SEARCH_CUSTOM_TAG:this.__handleNavigationUnitChange(l);break;default:return;}};k.prototype.__handleListFetch=function(l){'use strict';h(0);};k.prototype.__handleNavigationUnitChange=function(l){'use strict';h(0);};k.prototype.hasMoreItem=function(l){'use strict';return this.__hasMoreItem.get(l);};k.prototype.getItemList=function(l,m){'use strict';h(0);};k.prototype.isLoading=function(){'use strict';return this.__isLoading;};f.exports=k;}),null);
__d('PagesManagerNavigationUnit',['invariant'],(function a(b,c,d,e,f,g,h){'use strict';function i(j){this.$PagesManagerNavigationUnit1=j;}i.prototype.getDisplayTitle=function(){h(0);};i.prototype.getKey=function(){return this.$PagesManagerNavigationUnit1;};i.prototype.getNotificationCount=function(j,k){return 0;};f.exports=i;}),null);
__d('PagesManagerNavigationView.react',['cx','invariant','ContextualDialogArrow','ContextualLayerAutoFlip','Map','PagesManagerNavigationUnit','PopoverMenu.react','React','ReactXUIMenu','immutable'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('ReactXUIMenu').Item,m=c('immutable').List;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;'use strict';for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$PagesManagerNavigationView1=function(t,u){this.props.onUnitSelected(this.$PagesManagerNavigationView3(u.item.getValue()));}.bind(this),this.$PagesManagerNavigationView2=function(t){return (c('React').createElement(l,{key:t.getKey(),value:t.getKey()},c('React').createElement('div',{className:"_-7b"},t.getDisplayTitle())));},p;}n.prototype.$PagesManagerNavigationView3=function(o){'use strict';var p=this.$PagesManagerNavigationView4(o,this.props.tabbarUnits);if(p)return p;p=this.$PagesManagerNavigationView4(o,this.props.dropdownUnits);if(p)return p;i(0);};n.prototype.$PagesManagerNavigationView4=function(o,p){'use strict';var q=p.filter(function(r){return r.getKey()===o;});if(q.count()>0)return q.get(0);};n.prototype.render=function(){'use strict';return c('React').createElement('div',{className:"_-7a"},this.$PagesManagerNavigationView5(),this.$PagesManagerNavigationView6());};n.prototype.$PagesManagerNavigationView5=function(){'use strict';var o=this.props.activeDropdownUnit;if(this.props.dropdownUnits.size===0||!o)return null;var p=c('React').createElement(c('ReactXUIMenu'),{onItemClick:this.$PagesManagerNavigationView1},this.props.dropdownUnits.map(this.$PagesManagerNavigationView2));return (c('React').createElement(c('PopoverMenu.react'),{layerBehaviors:[c('ContextualDialogArrow'),c('ContextualLayerAutoFlip')],menu:p},c('React').createElement('div',{className:"_-7c"},o.getDisplayTitle())));};n.prototype.$PagesManagerNavigationView7=function(o){'use strict';var p=this.props.unitNotificationCountMap.get(o);return (c('React').createElement('div',babelHelpers['extends']({},this.props,{className:"_-7d"+(' '+"_-7e")+(o===this.props.activeTabbarUnit?' '+"_-7f":''),onClick:function(){return this.props.onUnitSelected(o);}.bind(this),key:o.getKey()}),c('React').createElement('div',{className:"_-7g _-7e"},o.getDisplayTitle().toString().toUpperCase()),c('React').createElement('div',{className:"_-7h"+(' '+"_-7e")+(p===0?' '+"hidden_elem":'')},p)));};n.prototype.$PagesManagerNavigationView6=function(){'use strict';return this.props.tabbarUnits.map(function(o){return this.$PagesManagerNavigationView7(o);}.bind(this));};f.exports=n;}),null);
__d('GraphQLMutationDataHandler',['invariant'],(function a(b,c,d,e,f,g,h){'use strict';var i={getMutationType:function j(k){!!k&&Object.keys(k).length===1||h(0);return Object.keys(k)[0];}};f.exports=i;}),null);
__d('GraphQLSubscribeModes',[],(function a(b,c,d,e,f,g){'use strict';var h={SUBSCRIBE:'subscribe',UNSUBSCRIBE:'unsubscribe'};f.exports=h;}),null);
__d('GraphQLSubscriptionTracker',[],(function a(b,c,d,e,f,g){'use strict';var h={},i={trackSubscription:function j(k,l){h[l]=k;},getSubscription:function j(k){return h[k];},removeSubscription:function j(k){delete h[k];}};f.exports=i;}),null);
__d('RelayGraphQLSubscriptionNetworkLayer',['invariant'],(function a(b,c,d,e,f,g,h){'use strict';var i=void 0,j={injectGraphQLSubscriber:function k(l){i=l;},sendSubscribeRequest:function k(l){i||h(0);i.sendSubscribeRequest(l);}};f.exports=j;}),null);
__d('RQLSubscription',['invariant','GraphQLMutationDataHandler','GraphQLSubscribeModes','GraphQLSubscriptionTracker','RelayGraphQLSubscriptionNetworkLayer'],(function a(b,c,d,e,f,g,h){'use strict';var i={sendSubscribe:function j(k,l,m,n,o){c('RelayGraphQLSubscriptionNetworkLayer').sendSubscribeRequest({mode:c('GraphQLSubscribeModes').SUBSCRIBE,subscription:k,subscriptionQueryID:n,params:l,clientSubscriptionID:m,topic:o});},sendUnsubscribe:function j(k,l,m,n,o){c('RelayGraphQLSubscriptionNetworkLayer').sendSubscribeRequest({mode:c('GraphQLSubscribeModes').UNSUBSCRIBE,subscription:k,subscriptionQueryID:n,params:l,clientSubscriptionID:m,topic:o});},handleSubscriptionPayload:function j(k){var l=c('GraphQLMutationDataHandler').getMutationType(k);k[l]||h(0);var m='client_subscription_id' in k[l];if(!m)return;var n=k[l].client_subscription_id;n||h(0);var o=c('GraphQLSubscriptionTracker').getSubscription(n);if(o)o.handlePayload(k);}};f.exports=i;}),null);
__d('GraphQLSubscription',['invariant','ClientIDs','GraphQLMutationDataHandler','GraphQLMutatorHub','GraphQLSubscriptionTracker','RQLSubscription','RelayMetaRoute','RelayQuery','RelayStore','nullthrows'],(function a(b,c,d,e,f,g,h){'use strict';function i(j,k){this.clientSubscriptionID=c('ClientIDs').getNewClientID();this.$GraphQLSubscription1=this.constructor.getSubscriptionQuery();this.$GraphQLSubscription2=this.constructor.getSubscriptionQueryID();this.$GraphQLSubscription3=this.getQueryParams(j);this.$GraphQLSubscription4=k;this.$GraphQLSubscription5=this.getSubscriptionTopic(this.$GraphQLSubscription3);this.$GraphQLSubscription1&&this.$GraphQLSubscription3||h(0);c('RQLSubscription').sendSubscribe(this.$GraphQLSubscription1,this.$GraphQLSubscription3,this.clientSubscriptionID,this.$GraphQLSubscription2,this.$GraphQLSubscription5);c('GraphQLSubscriptionTracker').trackSubscription(this,this.clientSubscriptionID);this.$GraphQLSubscription6=true;}i.prototype.dispose=function(){this.$GraphQLSubscription6||h(0);c('RQLSubscription').sendUnsubscribe(this.$GraphQLSubscription1,this.$GraphQLSubscription3,this.clientSubscriptionID,this.$GraphQLSubscription2,this.$GraphQLSubscription5);c('GraphQLSubscriptionTracker').removeSubscription(this.clientSubscriptionID);this.$GraphQLSubscription6=false;};i.getSubscriptionQuery=function(){throw new Error('Must implement `getSubscriptionQuery.`');};i.getSubscriptionQueryID=function(){return null;};i.prototype.getSubscriptionTopic=function(){if(!this.constructor.getInputFieldsThatDetermineTopic)return null;return ['gqls',this.$GraphQLSubscription1.calls[0].name,this.constructor.getInputFieldsThatDetermineTopic().sort().map(function(j){return (String(j)+'_'+String(c('nullthrows')(this.$GraphQLSubscription3[j])));}.bind(this)).join('_')].join('/');};i.prototype.getQueryParams=function(j){throw new Error('Must implement `getQueryParams.`');};i.prototype.handlePayload=function(j){this.$GraphQLSubscription6||h(0);var k=c('GraphQLMutationDataHandler').getMutationType(j),l=j[k];c('RelayStore').getStoreData().handleUpdatePayload(c('RelayQuery').Subscription.create(this.$GraphQLSubscription1,c('RelayMetaRoute').get('$GraphQLSubscription'),{input:this.$GraphQLSubscription3}),l,{configs:c('GraphQLMutatorHub').getConfigs(k)||[],isOptimisticUpdate:false});this.$GraphQLSubscription4&&this.$GraphQLSubscription4(j);};f.exports=i;}),null);
__d('RelayGraphQLSubscriber',['Promise','ChannelManager','ActorURI','CSRFGuard','CurrentLocale','CurrentUser','GraphQLSubscribeModes','GraphQLSubscriptionsLoggerEvent','GraphQLSubscriptionsMechanism','GraphQLSubscriptionsTypedLogger','RelayAPIConfig','RelayMetaRoute','RelayQuery','RQLSubscription','RTISubscriptionManager','URI','XHRRequest','flattenRelayQuery','getAsyncParams','getCrossOriginTransport','nullthrows','printRelayQuery'],(function a(b,c,d,e,f,g){'use strict';c('ChannelManager');var h={},i=155160167952447;function j(k){return {sendSubscribeRequest:function l(m){var n=void 0,o=this._prepareData(m);if(m.mode===c('GraphQLSubscribeModes').SUBSCRIBE){n=this._getTopicAndTransformContext(o).then(function(p){var q=p.topic,r=p.transformContext;o.topic=q;r.appID=i;return this._subscribe(o,r);}.bind(this));}else if(m.mode===c('GraphQLSubscribeModes').UNSUBSCRIBE){n=this._unsubscribe(o);}else n=c('Promise').reject('invalid mode');n['catch'](function(p){return false;});},_prepareData:function l(m){var n={input:JSON.stringify(babelHelpers['extends']({},m.params,{client_subscription_id:m.clientSubscriptionID}))},o=c('RelayQuery').Subscription.create(m.subscription,c('RelayMetaRoute').get('$GraphQLSubscriber'),n),p=c('printRelayQuery')(c('nullthrows')(c('flattenRelayQuery')(o))).text;return {queryText:p,queryID:m.subscriptionQueryID!=null?Number(m.subscriptionQueryID):null,queryParams:n,topic:null,tokenKey:JSON.stringify({params:m.params,text:p}),logger:new (c('GraphQLSubscriptionsTypedLogger'))().setSubscriptionCall(o.getCall().name).setQueryParams(n).setMechanism(c('GraphQLSubscriptionsMechanism').SKYWALKER)};},_getTopicAndTransformContext:function l(m){var n=m.queryText,o=m.queryID,p=m.queryParams,q=m.topic;if(o!==null&&q!=null){var r={locale:c('CurrentLocale').get(),queryID:o,serializedQueryParameters:JSON.stringify(p),viewerID:c('CurrentUser').getID()};return c('Promise').resolve({topic:q,transformContext:r});}return new (c('Promise'))(function(s){var t,u=new (c('XHRRequest'))(k).setTransportBuilder(c('getCrossOriginTransport').withCredentials).setMethod('POST').setData(babelHelpers['extends']((t={},t[c('ActorURI').PARAMETER_ACTOR]=c('RelayAPIConfig').actorID,t.query=n,t.query_params=JSON.stringify(p),t),c('getAsyncParams')('POST'))).setResponseHandler(function(v){var w=JSON.parse(c('CSRFGuard').clean(v));s({topic:w.payload.topic,transformContext:JSON.parse(w.payload.transform_context)});});u.send();});},_subscribe:function l(m,n){var o=m.topic,p=m.tokenKey,q=m.logger;return new (c('Promise'))(function(r){h[p]=c('RTISubscriptionManager').subscribe(c('nullthrows')(o),function(s){var t=JSON.parse(s.payload);q.setEvent(c('GraphQLSubscriptionsLoggerEvent').RECEIVEPAYLOAD).log();c('RQLSubscription').handleSubscriptionPayload(t);},{transformContext:JSON.stringify(n)});q.setEvent(c('GraphQLSubscriptionsLoggerEvent').CLIENT_SUBSCRIBE).log();r();});},_unsubscribe:function l(m){var n=m.tokenKey,o=m.logger;return new (c('Promise'))(function(p){h[n].unsubscribe();delete h[n];o.setEvent(c('GraphQLSubscriptionsLoggerEvent').CLIENT_UNSUBSCRIBE).log();p();});}};}f.exports=j;}),null);
__d("XDliteGraphQLSkywalkerController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/dlite\/skywalker_topic\/",{});}),null);