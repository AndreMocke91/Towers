if (self.CavalryLogger) { CavalryLogger.start_js(["jsjWD"]); }

__d("PagesPrivateReplyConstants",[],(function a(b,c,d,e,f,g){f.exports={Status:{REPLYABLE:"replyable",ALREADY_REPLIED:"already_replied",RECIPIENT_FILTER:"recipient_filter",EXPIRED:"expired",NOT_USER_CREATED:"not_user_created",CANNOT_MESSAGE:"cannot_message",MESSAGING_DISABLED:"messaging_disabled"},Type:{COMMENT_PAGE_POST:"comment_page_post",COMMENT_WALL_POST:"comment_wall_post",COMMENT_REVIEW:"comment_review",REVIEW:"review",WALL_POST:"wall_post"}};}),null);
__d("UFIStreamingCommentsMode",[],(function a(b,c,d,e,f,g){f.exports={NONE:0,LIVE:1,ON_DEMAND:2};}),null);
__d('UFICommentVPVs',['Map','MarauderLogger','Set'],(function a(b,c,d,e,f,g){'use strict';var h=new (c('Map'))();function i(l,m){c('MarauderLogger').log('comment_vpv',undefined,null,'comment',m);if(!h.has(l))h.set(l,new (c('Set'))());h.get(l).add(m);}function j(l,m){if(h.has(l))return h.get(l).has(m);return false;}var k={logVPV:i,hasLoggedVPV:j};f.exports=k;}),null);
__d('UFIStopWatch',[],(function a(b,c,d,e,f,g){'use strict';var h='COUNTING',i='PAUSED';function j(){this.$UFIStopWatch1=i;this.$UFIStopWatch2=0;this.$UFIStopWatch3=0;}j.prototype.start=function(){if(this.$UFIStopWatch1===h)return this;this.$UFIStopWatch1=h;this.$UFIStopWatch3=Date.now();return this;};j.prototype.pause=function(){if(this.$UFIStopWatch1===i)return this;this.$UFIStopWatch1=i;this.$UFIStopWatch2+=Date.now()-this.$UFIStopWatch3;return this;};j.prototype.reset=function(){this.$UFIStopWatch2=0;this.$UFIStopWatch3=0;if(this.$UFIStopWatch1==h)this.$UFIStopWatch3=Date.now();return this;};j.prototype.state=function(){return this.$UFIStopWatch1;};j.prototype.milliseconds=function(){var k=0;if(this.$UFIStopWatch1===h)k=Date.now()-this.$UFIStopWatch3;return this.$UFIStopWatch2+k;};j.COUNTING=h;j.PAUSED=i;f.exports=j;}),null);
__d('onCommentIsVisible',['onViewportChanged'],(function a(b,c,d,e,f,g){'use strict';function h(i,j){var k=void 0;function l(n){return i(n);}function m(n){if(k!==n){k=n;j(n);}}return c('onViewportChanged')(m,l);}f.exports=h;}),null);
__d('UFICommentVPVDLogging',['csx','Banzai','Parent','UFIConfig','UFIOrderingModeStore','UFIStopWatch','UFIStreamingCommentsMode','WebCommentViewOption'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('UFIConfig').commentVPVD;function j(k){var l=k.renderedComment,m=l.comment,n=l.isLivePinnedComment,o=k.contextArgs,p=k.node,q=k.stopWatch;if(q.state()===c('UFIStopWatch').COUNTING)return {state:'still visible - not logged',instanceid:o.instanceid,fbid:m.fbid,duration_ms:q.milliseconds()};var r=q.milliseconds();if(r>=0&&r<i.min_duration_to_log)return {state:'small duration - not logged',instanceid:o.instanceid,fbid:m.fbid,duration_ms:r};var s=c('Parent').byClass(p,"public/feedobject/root"),t=null,u=null;if(s){t=JSON.parse(s.getAttribute('data-ft'));u=s.getAttribute('data-referrer');}var v=c('UFIOrderingModeStore').getState().get(o.instanceid),w=c('UFIStreamingCommentsMode').NONE;if(v===c('WebCommentViewOption').LIVE_STREAMING)if(o.islivestreaming){w=c('UFIStreamingCommentsMode').LIVE;}else if(o.isLiveVOD)w=c('UFIStreamingCommentsMode').ON_DEMAND;var x={comment_fbid:m.fbid,comment_id:m.id,container_module:o.location,duration_ms:r,is_live_pinned_comment:n,is_on_sponsored_story:!!o.isSponsored,is_page_comment:!!o.isPage,is_reply:!!m.parentcommentid,mf_story_key:t?t.mf_story_key:null,order_mode:v,qid:t?t.qid:null,referrer_source:u,streaming_comments_mode:w};q.reset();c('Banzai').post('comment_vpvd',x);return babelHelpers['extends']({state:'logged',instanceid:o.instanceid,fbid:m.fbid,duration_ms:r},x);}f.exports={log:j};}),null);
__d('UFICommentVPVDState',['invariant','Arbiter','Parent','UFICommentVisibilityStore','UFICommentVPVDLogging','UFIConfig','UFIRootRegistry','UFIStopWatch','UFIVisibility','UserActivity','ViewportTrackingHelper','getActiveElement'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('UFIConfig').commentVPVD,j={INFOCUS:'INFOCUS',BLURRED_NEW:'BLURRED_NEW',BLURRED_INACTIVE:'BLURRED_INACTIVE',BLURRED_SNOWLIFT_OTHER:'BLURRED_SNOWLIFT_OTHER',BLURRED_UNDER_LAYER:'BLURRED_UNDER_LAYER',BLURRED_NO_NODE:'BLURRED_NO_NODE'},k='changed',l=new (c('Arbiter'))(),m=null,n=false,o=false,p={};function q(w){if(!i.debug_console)return;console.table&&console.table([{isFocusInLayer:n,isSnowliftOpen:o,userIsActive:c('UserActivity').isActive(i.idle_timeout)}]);console.table&&console.table(Object.keys(p).map(function(x){var y=p[x];return {instanceID:y.contextArgs.instanceid,fbid:y.renderedComment.comment.fbid,state:y.state,visibility:y.visibility,counting:y.stopWatch.state()};}));}function r(w){var x=Object.keys(w);if(!x.length)return;x.forEach(function(y){return t(w[y]);});p=babelHelpers['extends']({},p,w);l.inform(k);}function s(w,x){var y;r((y={},y[w]=x,y));}function t(w){if(w.visibility==c('UFIVisibility').VISIBLE&&w.state==j.INFOCUS){w.stopWatch.start();}else w.stopWatch.pause();}function u(w){if(!c('UserActivity').isActive(i.idle_timeout))return j.BLURRED_INACTIVE;if(n&&!o){if(!w.node)return j.BLURRED_NO_NODE;if(!m)return j.BLURRED_UNDER_LAYER;w.node||h(0);m||h(0);var x=c('ViewportTrackingHelper').isDescendantOf(w.node,m);return x?j.INFOCUS:j.BLURRED_UNDER_LAYER;}if(o)if(c('UFIRootRegistry').isSnowliftNode(w.contextArgs.rootid)){return j.INFOCUS;}else return j.BLURRED_SNOWLIFT_OTHER;return j.INFOCUS;}var v={subscribe:function w(x){return l.subscribe(k,x);},unsubscribe:function w(x){l.unsubscribe(x);},getState:function w(){return p;},getKey:function w(x,y){return y.instanceid+'/'+x.comment.fbid+(x.isLivePinnedComment?'/P':'');},initComment:function w(x,y,z){var aa=v.getKey(x,y),ba=p[aa];if(!ba&&!z){return;}else if(!ba){var ca={renderedComment:x,contextArgs:y,node:z,state:j.BLURRED_NEW,stopWatch:new (c('UFIStopWatch'))(),visibility:c('UFICommentVisibilityStore').getVisibility(c('UFICommentVisibilityStore').getState(),y,x)};ca.state=u(ca);s(aa,ca);}else if(!z){ba.stopWatch.pause();s(aa,babelHelpers['extends']({},ba,{state:j.BLURRED_NO_NODE}));}else s(aa,babelHelpers['extends']({},ba,{node:z,state:u(ba)}));},updateAllStates:function w(x){r(Object.keys(p).reduce(function(y,z){y[z]=babelHelpers['extends']({},p[z],{state:u(p[z])});return y;},{}));q(x);},cleanupUFIInstance:function w(x){var y=[];Object.keys(p).filter(function(z){return p[z].contextArgs.instanceid==x;}).forEach(function(z){p[z].stopWatch.pause();var aa=c('UFICommentVPVDLogging').log(p[z]);if(i.debug_console)y.push(aa);delete p[z];});if(i.debug_console)console.table&&console.table(y);},onCommentVisibilityChanged:function w(){var x=c('UFICommentVisibilityStore').getState();r(Object.keys(p).reduce(function(y,z){var aa=p[z],ba=aa.renderedComment,ca=aa.contextArgs,da=aa.visibility,ea=c('UFICommentVisibilityStore').getVisibility(x,ca,ba),fa=da!=ea;if(!fa)return y;y[z]=babelHelpers['extends']({},p[z],{visibility:ea});return y;},{}));q('UFICommentVisibilityStore.changed');},onClickDocument:function w(){var x=c('getActiveElement')();if(!x){m=null;n=false;}else{m=c('Parent').byClass(x,'uiContextualLayerParent');n=!!m;}},onSnowliftOpen:function w(){o=true;},onSnowliftClose:function w(){o=false;},debug:function w(){q('debug');}};f.exports=v;}),null);
__d('UserActivityEmitter',['invariant','EventEmitter','UserActivity','clearTimeout','setTimeout'],(function a(b,c,d,e,f,g,h){'use strict';var i='change',j={};k.factory=function(l){if(!j[l])j[l]=new k(l);return j[l];};function k(l){this.$UserActivityEmitter5=250;this.$UserActivityEmitter6=function(){if(this.$UserActivityEmitter4=='INACTIVE'){this.$UserActivityEmitter4='ACTIVE';this.$UserActivityEmitter2.emit(i,'ACTIVE');}if(this.$UserActivityEmitter3)c('clearTimeout')(this.$UserActivityEmitter3);this.$UserActivityEmitter3=c('setTimeout')(this.$UserActivityEmitter7,this.$UserActivityEmitter5);}.bind(this);this.$UserActivityEmitter7=function(){this.$UserActivityEmitter4='INACTIVE';this.$UserActivityEmitter2.emit(i,'INACTIVE');c('clearTimeout')(this.$UserActivityEmitter3);this.$UserActivityEmitter3=null;}.bind(this);l>c('UserActivity').EVENT_INTERVAL_MS||h(0);this.$UserActivityEmitter5=l;this.$UserActivityEmitter2=new (c('EventEmitter'))();this.$UserActivityEmitter4=c('UserActivity').isActive(l)?'ACTIVE':'INACTIVE';this.$UserActivityEmitter1=c('UserActivity').subscribe(this.$UserActivityEmitter6);if(this.$UserActivityEmitter4=='ACTIVE')this.$UserActivityEmitter6();}k.prototype.subscribe=function(l){return this.$UserActivityEmitter2.addListener(i,l);};k.prototype.getState=function(){return this.$UserActivityEmitter4;};f.exports=k;}),null);
__d('UFICommentVPVD',['Arbiter','Event','SubscriptionsHandler','UFICommentVisibilityStore','UFICommentVPVDLogging','UFICommentVPVDState','UFIConfig','UFIInstanceActionType','UFISharedDispatcher','UserActivityEmitter'],(function a(b,c,d,e,f,g){'use strict';var h=c('UFIConfig').commentVPVD,i=false,j=null,k=new (c('SubscriptionsHandler'))(),l=null,m=null;function n(){if(j)return;j=setTimeout(function(){j=null;var p=c('UFICommentVPVDState').getState(),q=[];Object.keys(p).forEach(function(r){var s=c('UFICommentVPVDLogging').log(p[r]);if(h.debug_console)q.push(s);});if(h.debug_console)console.table&&console.table(q);},10);}var o={init:function p(){if(i||!c('UFICommentVPVDState'))return;i=true;m=c('UFISharedDispatcher').register(function(q){if(q.type==c('UFIInstanceActionType').REMOVE)c('UFICommentVPVDState').cleanupUFIInstance(q.instanceID);});l=c('UserActivityEmitter').factory(h.idle_timeout);k=new (c('SubscriptionsHandler'))();k.addSubscriptions(c('UFICommentVisibilityStore').addListener(function(){var q=c('UFICommentVPVDState').getState();c('UFICommentVPVDState').onCommentVisibilityChanged();if(q!==c('UFICommentVPVDState').getState())n();}),{remove:function q(){if(m){c('UFISharedDispatcher').unregister(m);m=null;}}},c('Event').listen(document.documentElement,'click',function(){c('UFICommentVPVDState').onClickDocument();c('UFICommentVPVDState').updateAllStates('document onClick');n();}),l.subscribe(function(q){c('UFICommentVPVDState').updateAllStates('user-active = '+q);if(q!='ACTIVE')n();}),c('Arbiter').subscribe('reflow',function(){c('UFICommentVPVDState').updateAllStates('reflow');n();}),c('Arbiter').subscribe('PhotoSnowlift.OPEN',function(){c('UFICommentVPVDState').onSnowliftOpen();c('UFICommentVPVDState').updateAllStates('PhotoSnowlift.OPEN');n();}),c('Arbiter').subscribe('PhotoSnowlift.CLOSE',function(){c('UFICommentVPVDState').onSnowliftClose();c('UFICommentVPVDState').updateAllStates('PhotoSnowlift.CLOSE');n();}));},enableVPVDLogging:function p(q){if(!q.location||!h.locations)return false;return (h.everywhere||h.locations.includes(q.location));}};f.exports=o;}),null);
__d('UFICommentVPVDTracker.react',['cx','React','ReactDOM','SubscriptionsHandler','UFICommentAction','UFICommentVisibilityStore','UFICommentVPVD','UFICommentVPVDState','UFIConfig','UFISharedDispatcher','UFIVisibility','ViewportTrackingHelper','onCommentIsVisible'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').Children,l=c('React').PropTypes,m=c('UFIConfig').commentVPVD;function n(p){return c('UFICommentVisibilityStore').getVisibility(c('UFICommentVisibilityStore').getState(),p.contextArgs)===c('UFIVisibility').VISIBLE;}i=babelHelpers.inherits(o,c('React').Component);j=i&&i.prototype;function o(p){j.constructor.call(this,p);this.state={isVisible:false};this.isCommentVisible=function(q){if(!n(this.props))return false;var r={height:q.bottom-q.top,width:0};return c('ViewportTrackingHelper').isVisibleInDimension(r,c('ReactDOM').findDOMNode(this),m.min_visible_size);}.bind(this);this.onCommentVisibilityChanged=function(q){this.setState({isVisible:q});c('UFISharedDispatcher').dispatch(c('UFICommentAction').changeVisibility(this.props.contextArgs,this.props.renderedComment,q?c('UFIVisibility').VISIBLE:c('UFIVisibility').HIDDEN));}.bind(this);if(c('UFICommentVPVD').enableVPVDLogging(p.contextArgs))c('UFICommentVPVD').init();this.$UFICommentVPVDTracker1=new (c('SubscriptionsHandler'))();}o.prototype.componentDidMount=function(){if(c('UFICommentVPVD').enableVPVDLogging(this.props.contextArgs))this.$UFICommentVPVDTracker1.addSubscriptions(c('onCommentIsVisible')(this.isCommentVisible,this.onCommentVisibilityChanged));};o.prototype.componentWillUnmount=function(){this.$UFICommentVPVDTracker1.release();};o.prototype.render=function(){var p=this.props,q=this.state,r=k.only(p.children);if(!c('UFICommentVPVD').enableVPVDLogging(p.contextArgs))return r;var s=m.debug_html;return c('React').createElement('div',{'data-debugstate':s?q.isVisible?'fully visible':'not fully visible':null,className:"_3b-9"+(s?' '+"_3b-a":'')+(s&&q.isVisible?' '+"_3b-b":'')+(s&&!q.isVisible?' '+"_3b-c":''),ref:function t(u){return c('UFICommentVPVDState').initComment(p.renderedComment,p.contextArgs,u);}},r);};o.propTypes={renderedComment:l.object.isRequired,contextArgs:l.object.isRequired};f.exports=o;}),null);
__d('PublicConversationsUnicornTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:PublicConversationsUnicornLoggerConfig',this.$PublicConversationsUnicornTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:PublicConversationsUnicornLoggerConfig',this.$PublicConversationsUnicornTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$PublicConversationsUnicornTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$PublicConversationsUnicornTypedLogger1=babelHelpers['extends']({},this.$PublicConversationsUnicornTypedLogger1,j);return this;};h.prototype.setCommentFbid=function(j){this.$PublicConversationsUnicornTypedLogger1.comment_fbid=j;return this;};h.prototype.setVC=function(j){this.$PublicConversationsUnicornTypedLogger1.vc=j;return this;};var i={comment_fbid:true,vc:true};f.exports=h;}),null);
__d('UFICommentLikeCount.react',['cx','fbt','ActorURI','NumberFormat','ProfileBrowserLink','ProfileBrowserTypes','React','UFIConfig','URI'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=function o(p,q,r){var s=new (c('URI'))('/ajax/like/tooltip.php').setQueryData({comment_fbid:p.fbid,comment_from:p.author,comment_likecount:p.likecount||0,comment_id:p.id,cache_buster:p.likeconfirmhash||0});if(q)s.addQueryData({viewas:q});return c('ActorURI').create(s,r);};j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;n.prototype.render=function(){var o=this.props.comment,p=o.likecount||0,q=c('NumberFormat').formatIntegerWithDelimiter(p,c('UFIConfig').numberDelimiter),r=i._({"*":"{number} Likes","268435456":"1 Like"},[i.plural(p,'number')]),s=c('ProfileBrowserTypes').LIKES,t={id:o.fbid},u=m(this.props.comment,this.props.contextArgs.viewas,this.props.actorForPost),v=c('React').createElement('span',{className:"UFICommentReactionIconContainer"},c('React').createElement('i',{className:"_3j7l _2p78 _9-y"})),w=c('React').createElement('span',null,q),x="UFICommentLikeButton"+(this.props.comment.hasviewerliked?' '+"UFICommentLikedButton":''),y=c('ProfileBrowserLink').constructDialogURI(s,t).toString(),z=c('ProfileBrowserLink').constructPageURI(s,t).toString(),aa='dialog',ba=this.props.contextArgs.loggedOutLinkConfig;if(ba&&ba.showLikeLink){y=ba.likeAjaxifyURI;z='#';}return (c('React').createElement('a',{ajaxify:y,'aria-label':r,className:x,'data-hover':'tooltip','data-tooltip-alignh':'center','data-tooltip-uri':u.toString(),href:z,rel:aa,role:'button'},v,w));};function n(){j.apply(this,arguments);}n.propTypes={actorForPost:l.string,comment:l.object.isRequired,contextArgs:l.object.isRequired};f.exports=n;}),null);
__d('UFICommentLikeLink.react',['fbt','React','ReactionNuxTypeEnum','TrackingNodes','UFICommentAction','UFIConfig','UFIReactionsLinkImpl.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes,l='ufi_comment_like_link',m='ufi_reply_like_link';i=babelHelpers.inherits(n,c('React').Component);j=i&&i.prototype;n.getCanRender=function(o){return !!(o&&(o.canviewerreact||o.viewercanlike||o.hasviewerliked));};n.prototype.render=function(){var o=this.props.comment,p=this.props.feedback,q=this.props.contextArgs;if(!this.constructor.getCanRender(o))return null;if(o.canviewerreact){return this.$UFICommentLikeLink1(o,p,q);}else if(o.viewercanlike||o.hasviewerliked)return this.$UFICommentLikeLink2(o,p,q);return null;};n.prototype.$UFICommentLikeLink1=function(o,p,q){var r=null;if(c('UFIConfig').reactionsHasCommentsNux)r={nuxKey:'reactions_comments',titleOverride:h._("New! React to a Comment"),textOverride:h._("Hover over the Like link to see all reactions."),nuxType:c('ReactionNuxTypeEnum').LIKE_CLICK};return (c('React').createElement(c('UFIReactionsLinkImpl.react'),{contextArgs:babelHelpers['extends']({},q,{ftentidentifier:o.id}),comment:o,nuxConfig:r,reaction:o.viewerreaction,supportedReactions:p.supportedreactions}));};n.prototype.$UFICommentLikeLink2=function(o,p,q){var r=q.loggedOutLinkConfig,s=c('TrackingNodes').getTrackingInfo(o.hasviewerliked?c('TrackingNodes').types.UNLIKE_LINK:c('TrackingNodes').types.LIKE_LINK),t=o.hasviewerliked?h._("Unlike this comment"):h._("Like this comment"),u=o.parentcommentid?m:l,v=!o.hasviewerliked||r?h._("Like"):h._("Unlike"),w=null,x=null;if(r&&r.showLikeLink){w='dialog';x=r.likeAjaxifyURI;}return (c('React').createElement('a',{className:'UFILikeLink','data-ft':s,'data-testid':u,href:'#',rel:w,ajaxify:x,onClick:function(event){return this.context.dispatch(c('UFICommentAction').toggleLike(q,o,event.target));}.bind(this),role:'button',title:t},v));};function n(){i.apply(this,arguments);}n.propTypes={comment:k.object.isRequired,contextArgs:k.object.isRequired,feedback:k.object.isRequired};n.contextTypes={dispatch:k.func};f.exports=n;}),null);
__d("XUFIReactionProfileBrowserController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ufi\/reaction\/profile\/browser\/",{ft_ent_identifier:{type:"String",required:true}});}),null);
__d("XUFIReactionProfileDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ufi\/reaction\/profile\/dialog\/",{reaction_type:{type:"Enum",enumType:0},ft_ent_identifier:{type:"String",required:true},__asyncDialog:{type:"Int"}});}),null);
__d('UFIReactionsProfileBrowserUtils',['ActorURI','XUFIReactionProfileBrowserController','XUFIReactionProfileDialogController'],(function a(b,c,d,e,f,g){var h={getDialogURI:function i(j,k){return c('ActorURI').create(c('XUFIReactionProfileDialogController').getURIBuilder().setString('ft_ent_identifier',j.entidentifier).setEnum('reaction_type',k).getURI(),j.actorforpost);},getPageURI:function i(j){return c('ActorURI').create(c('XUFIReactionProfileBrowserController').getURIBuilder().setString('ft_ent_identifier',j.entidentifier).getURI(),j.actorforpost);}};f.exports=h;}),null);
__d('UFIReactionsBlingTokens.react',['cx','fbt','Bootloader','Event','RTLKeys','React','ReactDOM','UFIReactionIconImpl.react','UFIReactionTypes','UFIReactionsProfileBrowserUtils','joinClasses','sortReactionTypes'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=null;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(o){k.constructor.call(this,o);n.call(this);this.state={active:null,selectedIndex:-1,reactionTypes:this.getReactionTypes(o.feedback.reactioncountmap,o.max)};}m.prototype.componentDidUpdate=function(){if(this.state.selectedIndex>-1)c('ReactDOM').findDOMNode(this.refs[this.state.selectedIndex]).focus();};m.prototype.componentWillReceiveProps=function(o){if(o.feedback.reactioncount!==this.props.feedback.reactioncount)this.setState({active:null});this.setState({reactionTypes:this.getReactionTypes(o.feedback.reactioncountmap,o.max)});};m.prototype.getReactionTypes=function(o,p){var q=c('sortReactionTypes')(o,false).filter(function(r){return (c('UFIReactionTypes').reactions[r]&&o[r]['default']);});if(p)q=q.slice(0,p);return q;};m.prototype.onMouseEnter=function(o){if(!l)c('Bootloader').loadModules(["UFIReactionsTooltipImpl.react"],function(p){l=p;this.forceUpdate();}.bind(this),'UFIReactionsBlingTokens.react');this.setState({active:o});};m.prototype.render=function(){return (c('React').createElement('div',{className:c('joinClasses')("_3t53",this.props.className)},c('React').createElement('span',{'aria-label':i._("See who reacted to this"),className:"_3t54",onFocus:this.onFocus,onKeyDown:this.onKeyDown,ref:'tokens',role:'toolbar',tabIndex:this.state.selectedIndex>-1?-1:0},this.state.reactionTypes.map(this.renderToken,this)),this.props.children));};m.defaultProps={className:null,size:'16'};var n=function o(){this.onFocusIn=function(event){if(!this.refs.tokens.contains(event.target)){this.setState({selectedIndex:-1});if(this.focusInListener){this.focusInListener.remove();this.focusInListener=null;}}}.bind(this);this.onFocus=function(event){if(event.target===this.refs.tokens){this.setState({selectedIndex:0});if(!this.focusInListener)this.focusInListener=c('Event').listen(document.documentElement,'focusin',this.onFocusIn);}}.bind(this);this.onKeyDown=function(event){switch(event.keyCode){case c('RTLKeys').RETURN:if(this.focusInListener){this.focusInListener.remove();this.focusInListener=null;}break;case c('RTLKeys').TAB:this.setState({selectedIndex:0});break;case c('RTLKeys').getLeft():case c('RTLKeys').getRight():event.preventDefault();this.setState({selectedIndex:Math.max(0,Math.min(this.state.selectedIndex+(event.keyCode===c('RTLKeys').getLeft()?-1:1),this.state.reactionTypes.length-1))});break;}}.bind(this);this.renderToken=function(p,q){var r=this.props.feedback,s=i._("{reduced_count} {reaction_type}",[i.param('reduced_count',r.reactioncountmap[p].reduced),i.param('reaction_type',c('UFIReactionTypes').reactions[p].display_name)]),t={ajaxify:c('UFIReactionsProfileBrowserUtils').getDialogURI(r,p),'aria-label':s,className:"_3emk"+(this.props.size==='13'?' '+"_26lk":''),href:c('UFIReactionsProfileBrowserUtils').getPageURI(r),key:'reactionType-'+p,rel:'dialog',ref:q,role:'button',tabIndex:this.state.selectedIndex===q?0:-1},u=c('React').createElement(c('UFIReactionIconImpl.react'),{size:this.props.size,className:"_4-op",reaction:p}),v=c('React').createElement('span',{className:"_3chu"},r.reactioncountmap[p].reduced);if(l)return c('React').createElement(l,babelHelpers['extends']({active:this.state.active===p,feedback:r,reaction:p},t),u,v);return c('React').createElement('a',babelHelpers['extends']({onMouseEnter:this.onMouseEnter.bind(this,p)},t),u,v);}.bind(this);};f.exports=m;}),null);
__d("XUFIReactionTooltipController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ufi\/reaction\/tooltip\/",{ft_ent_identifier:{type:"String",required:true},seen_user_fbids:{type:"IntVector",defaultValue:[]},reaction_type:{type:"Enum",enumType:0},user_count:{type:"Int"}});}),null);
__d('UFICommentReactionCount.react',['cx','React','UFIReactionsBlingTokens.react','UFIReactionsProfileBrowserUtils','ActorURI','XUFIReactionTooltipController'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){var m=this.props.comment,n={entidentifier:m.id,reactioncount:m.reactioncount,reactioncountmap:m.reactioncountmap,actorforpost:this.props.actorForPost,supportedreactions:this.props.supportedReactions},o="UFICommentLikeButton"+(this.props.comment.hasviewerliked?' '+"UFICommentLikedButton":''),p=c('ActorURI').create(c('XUFIReactionTooltipController').getURIBuilder().setString('ft_ent_identifier',m.id).setInt('user_count',m.reactioncount).getURI(),this.props.actorForPost),q=c('UFIReactionsProfileBrowserUtils').getDialogURI(n),r=c('UFIReactionsProfileBrowserUtils').getPageURI(n),s=this.props.contextArgs.loggedOutLinkConfig;if(s&&s.showLikeLink){q=s.likeAjaxifyURI;r='#';}return (c('React').createElement(c('UFIReactionsBlingTokens.react'),{className:"UFICommentReactionsBling _4ar- _ipn",feedback:n,contextArgs:this.props.contextArgs,max:3,size:'13'},c('React').createElement('a',{ajaxify:q,className:o,'data-hover':'tooltip','data-tooltip-alignh':'center','data-tooltip-uri':p.toString(),href:r,rel:'dialog',role:'button'},m.reactioncountreduced)));};function l(){i.apply(this,arguments);}l.propTypes={actorForPost:k.string,comment:k.object.isRequired,contextArgs:k.object.isRequired,supportedReactions:k.array};f.exports=l;}),null);
__d("XVideoBroadcastPinnedCommentsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/videos\/pinnedcomments\/",{});}),null);
__d('UFILivePinnedCommentLink.react',['cx','fbt','AsyncRequest','BanzaiODS','React','UFILivePinnedCommentStore','UFISharedDispatcher','UFIStoryAction','UFIVideoPlayerRegistry','XVideoBroadcastPinnedCommentsController','ifRequired'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.onLinkClick=function(){var r=c('UFILivePinnedCommentStore').getPinnedCommentID(this.props.contextArgs.ftentidentifier);if(this.props.isPinned){c('UFISharedDispatcher').dispatch(c('UFIStoryAction').unpinComment(this.props.contextArgs));}else c('UFISharedDispatcher').dispatch(c('UFIStoryAction').pinComment(this.props.contextArgs,this.props.commentID));var s=this.props.contextArgs.isBroadcasterUFI?c('ifRequired')('LiveVideoBroadcastBroadcastStore',function(u){return (u.getCurrentBroadcastTime());}):c('UFIVideoPlayerRegistry').getAvailableVideoPlayerControllerTime(this.props.contextArgs.instanceid);if(s===null){c('BanzaiODS').bumpEntityKey('streaming_comments','pin_with_no_timestamp');return;}var t=c('XVideoBroadcastPinnedCommentsController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(t).setData({video_id:this.props.contextArgs.fluentContentToken,video_time_offset:s,comment_fbid:this.props.isPinned?null:this.props.commentFBID}).setMethod('POST').setErrorHandler(function(u){if(r){c('UFISharedDispatcher').dispatch(c('UFIStoryAction').pinComment(this.props.contextArgs,r));}else c('UFISharedDispatcher').dispatch(c('UFIStoryAction').unpinComment(this.props.contextArgs));}.bind(this)).send();}.bind(this),n;}l.prototype.render=function(){var m=i._("Unpin Comment"),n=i._("Pin Comment");return (c('React').createElement('a',{className:"uiLink",href:'#',onClick:this.onLinkClick},this.props.isPinned?m:n));};f.exports=l;}),null);
__d("XVideoBroadcastClearPinCommentEventAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/videos\/pinnedcomments\/clear\/",{});}),null);
__d('UFILiveVODUnpinCommentLink.react',['cx','fbt','AsyncRequest','Bootloader','React','UFILivePinnedCommentStore','UFISharedDispatcher','UFIStoryAction','XVideoBroadcastClearPinCommentEventAsyncController'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$UFILiveVODUnpinCommentLink1=function(){c('Bootloader').loadModules(["SimpleXUIDialog"],function(r){r.showConfirm(i._("If you unpin this comment, you won't be able to pin it again."),i._("Unpin Comment"),function(s){if(!s)return;new (c('AsyncRequest'))().setURI(c('XVideoBroadcastClearPinCommentEventAsyncController').getURIBuilder().getURI()).setData({pin_event_id:this.props.pinEventID}).setMethod('POST').setHandler(function(t){if(this.props.commentID===c('UFILivePinnedCommentStore').getPinnedCommentID(this.props.contextArgs.ftentidentifier))c('UFISharedDispatcher').dispatch(c('UFIStoryAction').unpinComment(this.props.contextArgs));}.bind(this)).send();}.bind(this));}.bind(this),'UFILiveVODUnpinCommentLink.react');}.bind(this),n;}l.prototype.render=function(){return (c('React').createElement('a',{className:"uiLink",href:'#',onClick:this.$UFILiveVODUnpinCommentLink1},i._("Unpin Comment")));};f.exports=l;}),null);
__d('UFIPrivateReplyIndicator.react',['fbt','PagesPrivateReplyConstants','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('PagesPrivateReplyConstants').Status;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.willRender=function(m){return m===k.ALREADY_REPLIED;};l.prototype.render=function(){if(this.props.replyStatus===k.ALREADY_REPLIED)return (c('React').createElement('span',null,h._("Page responded privately")));return null;};function l(){i.apply(this,arguments);}f.exports=l;}),null);
__d("XPagesMessagingPrivateReplyDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/pages\/messaging\/private_reply\/dialog\/",{activity_id:{type:"String",required:true},hide_attachments:{type:"Bool",defaultValue:false}});}),null);
__d('UFIPrivateReplyLink.react',['cx','fbt','ActorURI','Link.react','PagesPrivateReplyConstants','React','XUIGrayText.react','XPagesMessagingPrivateReplyDialogController'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('PagesPrivateReplyConstants').Status,m=c('PagesPrivateReplyConstants').Type,n=c('React').PropTypes;j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.$UFIPrivateReplyLink1=function(){var u=c('ActorURI').create(c('XPagesMessagingPrivateReplyDialogController').getURIBuilder().setString('activity_id',this.props.activityID).getURI(),this.props.context.pageID);return (c('React').createElement(c('Link.react'),{className:"_50u0",href:u,rel:'dialog'},this.$UFIPrivateReplyLink4()));}.bind(this),this.$UFIPrivateReplyLink3=function(){var u=void 0;switch(this.props.context.status){case l.EXPIRED:u=i._({"comments":"You can't send a message response to comments that are older than 6 months.","reviews":"You can't send a message response to reviews that are older than 6 months.","posts":"You can't send a message response to posts that are older than 6 months."},[i['enum'](this.$UFIPrivateReplyLink5(),{comments:'comments',reviews:'reviews',posts:'posts'})]);break;case l.NOT_USER_CREATED:u=i._("Pages can't send private messages to other Pages.");break;case l.CANNOT_MESSAGE:u=i._("This person can't receive a message reply from your Page.");break;}return (c('React').createElement('span',{className:"_50u0 _50u4",'data-hover':u?'tooltip':null,'data-tooltip-content':u},this.$UFIPrivateReplyLink4()));}.bind(this),this.$UFIPrivateReplyLink2=function(){return (c('React').createElement(c('Link.react'),{className:"_50u0",href:this.props.context.permalink||'#'},this.props.seeResponseLabel?i._("See Response"):this.$UFIPrivateReplyLink4()));}.bind(this),this.$UFIPrivateReplyLink4=function(){return i._("Message");},this.$UFIPrivateReplyLink5=function(){switch(this.props.context.activityType){case m.COMMENT_PAGE_POST:case m.COMMENT_WALL_POST:case m.COMMENT_REVIEW:return 'comments';case m.REVIEW:return 'reviews';default:return 'posts';}}.bind(this),q;}o.willRender=function(p,q){if(!p)return false;if(p.hasReplyPermission&&q===p.pageID)return true;return false;};o.prototype.render=function(){var p=this.props.context;if(p.hasReplyPermission&&this.props.actorID===p.pageID){if(p.status===l.REPLYABLE){return this.$UFIPrivateReplyLink1();}else if(p.status===l.ALREADY_REPLIED)return this.$UFIPrivateReplyLink2();return this.$UFIPrivateReplyLink3();}return null;};o.propTypes={actorID:n.string.isRequired,activityID:n.string.isRequired,context:n.shape({activityType:n.string.isRequired,status:n.string.isRequired,hasReplyPermission:n.bool.isRequired,pageID:n.string.isRequired,permalink:n.string}).isRequired,seeResponseLabel:n.bool.isRequired};f.exports=o;}),null);
__d('UFISpamCount',['UFISpamCountImpl'],(function a(b,c,d,e,f,g){'use strict';f.exports=c('UFISpamCountImpl').module||{enabled:false};}),null);
__d('UFICommentActions.react',['cx','fbt','FluxContainer','Middot.react','PublicConversationsUnicornTypedLogger','React','ReactFragment','UFIAddCommentAction','UFICentralUpdates','UFICommentAction','UFICommentLikeCount.react','UFICommentLikeLink.react','UFICommentMetadata.react','UFICommentReactionCount.react','UFIConfig','UFIConstants','UFILivePinnedCommentLink.react','UFILivePinnedCommentStore','UFILiveVODUnpinCommentLink.react','UFIPrivateReplyIndicator.react','UFIPrivateReplyLink.react','UFISharedDispatcher','UFISpamCount','UFIStoryAction','WebCommentViewOption'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=c('UFIConstants').UFIStatus,n="fsm fwn fcg UFICommentActions",o="UFIDeletedMessageIcon",p="UFIDeletedMessage";j=babelHelpers.inherits(q,c('React').Component);k=j&&j.prototype;q.getStores=function(){return [c('UFILivePinnedCommentStore')];};q.calculateState=function(r,s){var t=s.comment;if(t.islocal)return {pinActionLinkState:'None'};var u=c('UFILivePinnedCommentStore').getPinnedCommentID(t.ftentidentifier);if(u===t.id){return {pinActionLinkState:'MayUnpin'};}else return {pinActionLinkState:'MayPin'};};function q(r){k.constructor.call(this,r);this.renderMessageReply=function(s,t){if(s.messagereply){if(c('UFIPrivateReplyLink.react').willRender(s.messagereply,t.actorforpost)){return (c('React').createElement(c('UFIPrivateReplyLink.react'),{actorID:t.actorforpost,activityID:s.id,context:s.messagereply,seeResponseLabel:true}));}else if(c('UFIPrivateReplyIndicator.react').willRender(s.messagereply.status))return (c('React').createElement(c('UFIPrivateReplyIndicator.react'),{replyStatus:s.messagereply.status}));}else if(s.chattobuy)return (c('React').createElement('a',{href:s.chattobuy,role:'button',rel:'async-dialog'},i._("Message")));return null;};this.state=q.calculateState(null,r);}q.prototype.render=function(){var r=this.props,s=r.comment,t=r.permalink,u=r.feedback,v=r.parentCanComment,w=r.markedAsSpamHere,x=s.status===m.SPAM_DISPLAY,y=r.showReplyLink,z=r.hideAsSpamForPageAdmin,aa=void 0,ba=void 0,ca=void 0,da=void 0,ea=void 0,fa=void 0,ga=void 0,ha=void 0,ia=void 0,ja=!s.islocal&&s.status!==m.LIVE_DELETED&&!s.tipjarAmount;if(ja){if(x&&!w){if(r.viewerCanMarkNotSpam)aa=c('React').createElement('a',{onClick:function(event){return this.context.dispatch(c('UFICommentAction').markAsNotSpam(r.contextArgs,s,event));}.bind(this),className:"UFICommentNotSpamLink",href:'#',role:'button'},i._("Unhide"));if(z&&u.isthreaded&&s.cancomment&&y)fa=this.renderCommentReply(s);}else{ba=c('UFICommentLikeLink.react').getCanRender(s)?c('React').createElement(c('UFICommentLikeLink.react'),{comment:s,contextArgs:r.contextArgs,feedback:u}):null;if(u.isthreaded&&s.cancomment&&y||!!s.parentcommentid&&u.cancomment&&v)fa=this.renderCommentReply(s);if(s.canviewerreact){da=s.reactioncount>0?c('React').createElement(c('UFICommentReactionCount.react'),{comment:s,actorForPost:u.actorforpost,supportedReactions:u.supportedreactions,contextArgs:r.contextArgs}):null;}else da=s.likecount>0?c('React').createElement(c('UFICommentLikeCount.react'),{comment:s,actorForPost:u.actorforpost,contextArgs:r.contextArgs}):null;if(s.spamcount&&c('UFISpamCount').enabled)ea=c('React').createElement(c('UFISpamCount'),{count:s.spamcount});ga=this.renderMessageReply(s,u);}if(s.attachment&&s.attachment.type==='share'&&!s.attachment.disableRemove&&s.canremove)ha=c('React').createElement('a',{href:'#',onClick:function(event){return this.context.dispatch(c('UFICommentAction').removePreview(r.contextArgs,s,event.target));}.bind(this),role:'button'},i._("Remove Preview"));if(s.canshare&&s.commentshareuri)ca=c('React').createElement('a',{className:'share_action_link',href:s.commentshareuri,role:'button',rel:'dialog',title:i._("Share this comment")},i._("Share"));}if(c('UFIConfig').publicConversationsUnicornWhitelist)ia=c('React').createElement('a',{className:'share_action_link',href:'#',role:'button',title:"[FB Only] Mark this comment as a great comment for futher review.",onClick:function za(event){return new (c('PublicConversationsUnicornTypedLogger'))().setCommentFbid(s.fbid).log();}},'Unicorn');var ka=r.contextArgs.islivestreaming?null:c('React').createElement(c('UFICommentMetadata.react'),{comment:s,onRetrySubmit:function(){return this.context.dispatch(c('UFIAddCommentAction').retrySubmit(r.contextArgs,s));}.bind(this),permalink:t,shortenTimestamp:r.contextArgs.shortenTimestamp,showPermalink:r.showPermalink,contextArgs:r.contextArgs}),la=null;if(r.contextArgs.enablePinLiveComments&&!s.tipjarAmount)if(r.contextArgs.islivestreaming&&this.state.pinActionLinkState!=='None'){la=c('React').createElement(c('UFILivePinnedCommentLink.react'),{commentID:s.id,commentFBID:s.fbid,contextArgs:r.contextArgs,isPinned:this.state.pinActionLinkState==='MayUnpin'});}else if(r.contextArgs.isLiveVOD&&this.state.pinActionLinkState==='MayUnpin'){var ma=c('UFILivePinnedCommentStore').getPinEventID(r.contextArgs.ftentidentifier);if(ma!==null)la=c('React').createElement(c('UFILiveVODUnpinCommentLink.react'),{commentID:s.id,contextArgs:r.contextArgs,pinEventID:ma});}var na={};if(u.customcommentactionlinks)for(var oa in u.customcommentactionlinks){var pa=u.customcommentactionlinks[oa];if(pa.showInMenu)continue;var qa=function za(event){return c('UFICentralUpdates').inform(pa.type,{comment:s,feedback:u});};na[pa.type]=c('React').createElement('a',{href:'#',onClick:qa,role:'button'},pa.title);}var ra=void 0;if(this.props.orderingMode===c('WebCommentViewOption').LIVE_STREAMING){ra=babelHelpers['extends']({likeToggle:ba,unicornButton:ia,spamToggle:aa,likeCount:da,spamCount:ea,livePinCommentLink:la,metadata:ka},na);}else if(u.isqanda){ra=babelHelpers['extends']({likeCount:da,spamCount:ea,likeToggle:ba,unicornButton:ia,commentReply:fa,shareComment:ca,messageReply:ga,spamToggle:aa},na,{livePinCommentLink:la,metadata:ka,removePreview:ha});}else if(r.contextArgs.entstream){ra=babelHelpers['extends']({livePinCommentLink:la,metadata:ka,likeToggle:ba,unicornButton:ia,likeCount:da,commentReply:fa,messageReply:ga,shareComment:ca,spamCount:ea,spamToggle:aa,removePreview:ha},na);}else if(u.isthreaded){ra=babelHelpers['extends']({likeToggle:ba,unicornButton:ia,commentReply:fa,messageReply:ga,spamToggle:aa,removePreview:ha,shareComment:ca,likeCount:da,spamCount:ea},na,{livePinCommentLink:la,metadata:ka});}else ra=babelHelpers['extends']({livePinCommentLink:la,metadata:ka,likeToggle:ba,unicornButton:ia,shareComment:ca,likeCount:da,spamCount:ea,commentReply:fa,messageReply:ga,spamToggle:aa,removePreview:ha},na);if(s.status===m.LIVE_DELETED){var sa=i._("Comment deleted"),ta=c('React').createElement('span',{className:p},c('React').createElement('i',{'aria-label':sa,className:o,'data-hover':'tooltip','data-tooltip-content':sa,role:'img'}));ra.deletionWarning=ta;}var ua=true,va={};for(var wa in ra){var xa=ra[wa];if(xa){var ya=c('React').createElement(c('Middot.react'),{key:'middot-'+wa});va[wa]=ua?xa:c('ReactFragment').create({middot:ya,action:xa});ua=false;}}return c('React').createElement('div',{className:n},c('ReactFragment').create(va));};q.prototype.renderCommentReply=function(r){return c('React').createElement('a',{className:"UFIReplyLink",href:'#',onClick:function(){var s=this.props,t=s.contextArgs,u=s.feedback;if(u.isthreaded&&r.cancomment){this.context.dispatch(c('UFIStoryAction').showReplies(t,r.id,r));}else if(r.parentcommentid)this.context.dispatch(c('UFIStoryAction').showReplies(t,r.parentcommentid,r));if(u.targetiscomment)c('UFISharedDispatcher').dispatch(c('UFIStoryAction').showComments(t));}.bind(this),role:'button'},i._("Reply"));};q.contextTypes={dispatch:l.func};f.exports=c('FluxContainer').create(q,{withProps:true});}),null);
__d('UFISocialContext.react',['fbt','HovercardLink','ProfileBrowserLink','ProfileBrowserTypes','React','URI'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes,l=27;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.getOthersLink=function(s,t,u){var v=c('ProfileBrowserTypes').MUTUAL_FRIENDS,w={uid:t.id},x=new (c('URI'))('/ajax/mutual_friends/tooltip.php').setQueryData({friend_id:t.id});if(u)x.addQueryData({exclude_id:u.id});var y=c('ProfileBrowserLink').constructDialogURI(v,w).toString();return (c('React').createElement('a',{ajaxify:y,'data-hover':'tooltip','data-tooltip-alignh':'center','data-tooltip-uri':x.toString(),href:c('ProfileBrowserLink').constructPageURI(v,w).toString(),key:'others',rel:'dialog'},s));},o;}m.prototype.render=function(){var n=this.props.topMutualFriend,o=this.props.otherMutualCount,p=this.props.commentAuthor,q=c('HovercardLink').constructEndpoint(n).toString(),r=c('React').createElement('a',{href:n.uri,'data-hovercard':q,key:'top'},n.name),s=p.name.length+n.name.length,t=void 0;if(o===0){t=h._("Friends with {name}",[h.param('name',r)]);}else if(s<l){var u=void 0;if(o==1){u=h._("1 other");}else u=h._({"*":"{count} others"},[h.param('count',o,[0])]);t=h._("Friends with {name} and {others}",[h.param('name',r),h.param('others',this.getOthersLink(u,p,n))]);}else{var v=h._({"*":"{count} mutual friends"},[h.param('count',o+1,[0])]);t=this.getOthersLink(v,p);}return c('React').createElement('span',{className:'UFICommentSocialContext'},t);};m.propTypes={commentAuthor:k.object.isRequired,otherMutualCount:k.number.isRequired,topMutualFriend:k.object.isRequired};f.exports=m;}),null);
__d('UFICommentAuthorName.react',['Badge.react','React','TrackingNodes','UFIActor.react','UFISocialContext.react'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.prototype.render=function(){var l=this.props,m=l.author,n=c('TrackingNodes').getTrackingInfo(c('TrackingNodes').types.USER_NAME);return (c('React').createElement(c('UFIActor.react'),{author:m,disableAuthorLink:l.disableAuthorLink,showHovercard:l.showHovercard,isAdminViewer:l.isAdminViewer,key:'author',focusOnMount:l.focusOnMount,'data-ft':n,isAuthorWeakReference:l.isAuthorWeakReference,isAuthorNonCoworker:l.isAuthorNonCoworker,memberBioBadgeURI:l.memberBioBadgeURI,groupOrEventID:l.groupOrEventID,useFirstName:l.useFirstName,isPublic:this.props.isPublic},l.isFeatured?c('React').createElement(c('Badge.react'),{key:'badge',size:'xsmall',type:'verified'}):null,this.getConstituentTitle(m),l.socialContext?c('React').createElement(c('UFISocialContext.react'),{topMutualFriend:l.authorProfiles[l.socialContext.topmutualid],otherMutualCount:l.socialContext.othermutualcount,commentAuthor:m}):null));};k.prototype.getConstituentTitle=function(l){var m=this.props.constituentTitle;if(m&&m.titleModule){var n=m.titleModule;return (c('React').createElement(n,{representativeName:m.representativeName,representativeId:m.representativeId,authorId:l.id,ftId:m.ftId,commentId:m.commentId,showHovercard:true,isOwner:m.isOwner,key:'constituentTitle'}));}else return null;};function k(){h.apply(this,arguments);}k.propTypes={author:j.object.isRequired,authorProfiles:j.object.isRequired,disableAuthorLink:j.bool,showHovercard:j.bool,isAdminViewer:j.bool,isAuthorWeakReference:j.bool,isAuthorNonCoworker:j.bool,memberBioBadgeURI:j.string,focusOnMount:j.bool,groupOrEventID:j.string,isFeatured:j.bool,socialContext:j.object,useFirstName:j.bool,isPublic:j.bool,constituentTitle:j.object};f.exports=k;}),null);
__d('UFICommentMenu.react',['ix','Bootloader','Image.react','React','XUICloseButton.react','XUIEditButton.react','keyMirror','fbglyph'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k,l,m=c('React').PropTypes,n=void 0,o=void 0,p=void 0,q=void 0,r=c('keyMirror')({EDIT:true,CLOSE:true,CHEVRON:true});i=babelHelpers.inherits(s,c('React').Component);j=i&&i.prototype;function s(){var u,v;for(var w=arguments.length,x=Array(w),y=0;y<w;y++)x[y]=arguments[y];return v=(u=j.constructor).call.apply(u,[this].concat(x)),this.state={bootloading:false,bootloaded:false,needsExpand:false},this.onClickGuard=function(event){if(this.state.bootloading){return;}else if(!this.state.bootloaded&&this.props.menuData){this.setState({bootloading:true});c('Bootloader').loadModules(["ContextualDialogArrow","PopoverMenu.react","ReactXUIMenu"],function(z,aa,ba){n=z,o=aa;p=ba;q=ba.Item;this.setState({bootloading:false,bootloaded:true,needsExpand:true});}.bind(this),'UFICommentMenu.react');}else if(this.props.onClick)this.props.onClick(event);}.bind(this),v;}s.prototype.shouldComponentUpdate=function(u,v){if(this.state.needsExpand&&!v.needsExpand)return false;return true;};s.prototype.render=function(){var u=null;if(this.props.menuType===r.EDIT){u=c('XUIEditButton.react');}else if(this.props.menuType===r.CLOSE){u=c('XUICloseButton.react');}else u=t;if(this.props.menuData&&this.state.bootloaded){var v=this.props.menuData.map(function(x){return (c('React').createElement(q,{'data-testid':x.testid,key:x.value,value:x.value},x.label));}),w=c('React').createElement(p,{onItemClick:this.props.onAction},v);return (c('React').createElement(o,babelHelpers['extends']({},this.props,{alignh:'right',layerBehaviors:[n],menu:w,ref:'menu'}),c('React').createElement(u,babelHelpers['extends']({},this.props,{href:'#',onClick:this.onClickGuard}))));}return c('React').createElement(u,babelHelpers['extends']({},this.props,{href:'#',onClick:this.onClickGuard}));};s.prototype.componentDidUpdate=function(){if(this.state.needsExpand){this.refs.menu.showPopover();this.setState({needsExpand:false});}};s.MenuType=r;s.propTypes={menuData:m.array,menuType:m.oneOf(Object.keys(r)).isRequired,onAction:m.func,onClick:m.func};k=babelHelpers.inherits(t,c('React').Component);l=k&&k.prototype;t.prototype.render=function(){return (c('React').createElement('a',this.props,c('React').createElement(c('Image.react'),{'data-hover':'tooltip','data-tooltip-content':this.props.tooltip,'aria-label':this.props.tooltip,src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/chevron-down_16_fig-light-20.png")})));};function t(){k.apply(this,arguments);}f.exports=s;}),null);
__d('UFICommentTranslation.react',['cx','ContentTranslationStrings','Link.react','React','TranslationTrigger','TruncatedTextWithEntities.react','UFIConfig','UFIConstants','XUISpinner.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l);var m=this.props.translationData;this.state={shouldExpand:this.props.shouldExpand||!!m&&m.trigger===c('TranslationTrigger').SEE_TRANSLATION};}k.prototype.render=function(){if(!this.props.showTranslation)return (c('React').createElement(c('Link.react'),{className:"UFITranslateLink",onClick:function(){return this.$UFICommentTranslation1();}.bind(this)},c('ContentTranslationStrings').SEE_TRANSLATION));var l=this.props.translationData;if(!l)return (c('React').createElement('div',{className:"UFITranslateLink"},c('React').createElement(c('XUISpinner.react'),{background:'light',size:'small'})));var m=l.translatedText;if(!m||!m.text)return (c('React').createElement('div',{className:"UFITranslationErrorText"},c('ContentTranslationStrings').NO_TRANSLATION_AVAILABLE));var n=this.props.isShowingOriginal||l.trigger===c('TranslationTrigger').LOGGED_OUT_AUTO_TRANSLATION,o=n?null:c('React').createElement('div',{className:"UFITranslateAttribution"},c('ContentTranslationStrings').getTranslatedFrom(l.sourceDialectName)),p=n?c('React').createElement('div',{className:"UFITranslateAttribution"},c('ContentTranslationStrings').AUTOMATICALLY_TRANSLATED):c('React').createElement(c('Link.react'),{className:"UFITranslateLink",onClick:function(){return this.$UFICommentTranslation2();}.bind(this)},c('ContentTranslationStrings').SEE_ORIGINAL_LINK);return (c('React').createElement('div',null,o,c('React').createElement('div',{className:"UFITranslatedText"},c('React').createElement(c('TruncatedTextWithEntities.react'),{className:"UFICommentBody",ranges:m.ranges,text:m.text,truncationPercent:c('UFIConstants').commentTruncationPercent,maxLength:c('UFIConstants').commentTruncationLength,maxLines:c('UFIConstants').commentTruncationMaxLines,renderEmoticons:c('UFIConfig').renderEmoticons,renderEmoji:c('UFIConfig').renderEmoji,dir:m.dir,shouldExpand:this.state.shouldExpand,markViewerHasInteracted:function(){return this.setState({shouldExpand:!this.state.shouldExpand});}.bind(this)}),p)));};k.prototype.$UFICommentTranslation1=function(){this.props.onSeeTranslation&&this.props.onSeeTranslation();};k.prototype.$UFICommentTranslation2=function(){this.props.onSeeOriginal&&this.props.onSeeOriginal();};k.defaultProps={shouldExpand:false};f.exports=k;}),null);
__d('UFICommentVPVTracker.react',['OnVisible.react','React','UFICommentVPVs','UFIConfig','clearTimeout','setTimeout'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.state={timer:null},this.maybeScheduleVPVLogging=function(){if(this.state.timer!==null)return;var q=this.props.comment.id,r=this.props.contextArgs.instanceid;if(c('UFICommentVPVs').hasLoggedVPV(r,q))return;this.setState({timer:c('setTimeout')(function(){c('UFICommentVPVs').logVPV(r,q);this.setState({timer:null});}.bind(this),c('UFIConfig').vpvLoggingTimeout)});}.bind(this),this.cancelScheduledVPVLogging=function(){if(this.state.timer===null)return;c('clearTimeout')(this.state.timer);this.setState({timer:null});}.bind(this),m;}k.prototype.render=function(){var l=this.props.comment.id,m=this.props.contextArgs.instanceid,n=this.props.children;if(!c('UFICommentVPVs').hasLoggedVPV(m,l))n=c('React').createElement(c('OnVisible.react'),{onVisible:this.maybeScheduleVPVLogging,onHidden:this.cancelScheduledVPVLogging},n);return n;};k.prototype.shouldComponentUpdate=function(l,m){return m.timer===this.state.timer;};k.prototype.componentWillReceiveProps=function(){this.cancelScheduledVPVLogging();};k.prototype.componentWillUnmount=function(){this.cancelScheduledVPVLogging();};k.propTypes={comment:j.object.isRequired,contextArgs:j.object.isRequired};f.exports=k;}),null);
__d('UFILiveCommentTimestamp.react',['cx','fbt','invariant','CommentPostedLiveState','React','TimeOffset','Tooltip.react','Middot.react','UFIVideoPlayerRegistry','VideoTimestampsClicksWWWTypedLogger'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;n.prototype.render=function(){var o,p=this.props,q=p.comment,r=p.contextArgs,s=!q.parentcommentid,t=null;if(s)(function(){var v=typeof q.videoTimeOffset==='number'?q.videoTimeOffset:0;t=c('React').createElement('a',{className:"_39g5",onClick:function w(event){event.preventDefault();var x=new (c('VideoTimestampsClicksWWWTypedLogger'))().setVideoTimestamp(v).setIsContentTimestamp(true);if(q.islocal){x.setLocalCommentFeedbackID(q.ftentidentifier);}else x.setCommentID(q.fbid);x.log();c('UFIVideoPlayerRegistry').seekAvailableVideoPlayerController(r.instanceid,v);},role:'button',tabIndex:'0'},c('TimeOffset').timeToTimestamp(v));})();var u=null;if(q.postedLiveState===c('CommentPostedLiveState').LIVE){u=c('React').createElement(c('Tooltip.react'),{tooltip:i._("Comment posted while the video was live")},c('React').createElement(c('Middot.react'),{className:"_5rr7"}));}else{q.postedLiveState===c('CommentPostedLiveState').ON_DEMAND||j(0);u=c('React').createElement(c('Tooltip.react'),{tooltip:i._("Comment posted after the live video ended")},c('React').createElement(c('Middot.react'),{className:"_5rra"}));}return (c('React').createElement('span',null,u,t));};function n(){k.apply(this,arguments);}n.propTypes={comment:m.shape({fbid:m.string,islocal:m.bool,postedLiveState:m.oneOf([c('CommentPostedLiveState').LIVE,c('CommentPostedLiveState').ON_DEMAND]).isRequired,videoTimeOffset:m.number,parentcommentid:m.string}).isRequired,contextArgs:m.shape({instanceid:m.string.isRequired}).isRequired};f.exports=n;}),null);
__d('VideoTipJarConfig',[],(function a(b,c,d,e,f,g){'use strict';var h=[1,3,5],i='WWW_LIVE_VIEWER_TIPJAR_FUNNEL';f.exports={TipJarAmount:h,TIP_JAR_FUNNEL_NAME:i};}),null);
__d('VideoTipJarCommentBackground.react',['ix','Image.react','React','VideoTipJarConfig'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('VideoTipJarConfig').TipJarAmount,l=[h('/images/tip_jar/tip1.png'),h('/images/tip_jar/tip2.png'),h('/images/tip_jar/tip3.png')];i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;m.prototype.render=function(){var n=parseFloat(this.props.amount),o=k.indexOf(n),p=l[o];return p?c('React').createElement(c('Image.react'),{src:p}):null;};function m(){i.apply(this,arguments);}f.exports=m;}),null);
__d("XUnifiedQueueReportedCommentsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/groups\/{groupid}\/write_async\/reported_comments\/",{groupid:{type:"Int",required:true},commentid:{type:"Int"},keep:{type:"Bool",defaultValue:false},block:{type:"Bool",defaultValue:false},uid:{type:"Int"}});}),null);
__d('UFIComment.react',['ix','cx','fbt','invariant','AsyncRequest','Bootloader','BootloadedComponent.react','DOMContainer.react','HovercardLink','HTML','Image.react','JSResource','LiveWWWFeedbackTypedLogger','React','ReactDOM','TrackingNodes','TranslationTrigger','UFIActorIconContainer.react','UFICentralUpdates','UFICommentAction','UFICommentActions.react','UFICommentAttachment.react','UFICommentAuthorName.react','UFICommentBody.react','UFICommentMenu.react','UFICommentTranslation.react','UFICommentUtils','UFICommentVPVDTracker.react','UFICommentVPVTracker.react','UFIConfig','UFIConstants','UFIImageBlock.react','UFILiveCommentTimestamp.react','UFISharedDispatcher','UserHovercardLocation','VideoTipJarCommentBackground.react','WebCommentViewOption','XFeedNUXSaveSeenStateController','XUIButton.react','XUICloseButton.react','XUnifiedQueueReportedCommentsController','emptyFunction','fbglyph','joinClasses','keyMirror'],(function a(b,c,d,e,f,g,h,i,j,k){'use strict';var l,m,n=c('React').PropTypes,o=c('UFIConstants').UFIStatus,p={NEWSSTAND:'newsstand'},q=c('keyMirror')({edit:true,hide:true,remove:true,embed:true,showConstituentTitle:true,hideConstituentTitle:true}),r='ufi_comment_close_button',s='ufi_highlighted_comment',t='ufi_comment_menu_delete',u='ufi_comment_menu_edit',v='ufi_comment_menu_hide',w='ufi_comment_menu_embed',x='ufi_comment_menu_show_district',y='ufi_comment_menu_hide_district',z={testid:t,value:q.remove,label:j._("Delete Comment...")},aa={testid:v,value:q.hide,label:j._("Hide Comment")},ba={testid:w,value:q.embed,label:j._("Embed")},ca={testid:t,value:q.remove,label:j._("Delete...")},da={testid:x,value:q.showConstituentTitle,label:j._("Show District")},ea={testid:y,value:q.hideConstituentTitle,label:j._("Hide District")},fa=false,ga=null,ha=function ma(na){var oa=na.status;return oa===o.FAILED_ADD||oa===o.FAILED_EDIT;},ia=function ma(na,oa){return (!!na.tipjarAmount&&oa===p.NEWSSTAND);};function ja(ma){return ma.commenterIsFOF!==undefined&&ma.userIsMinor!==undefined&&ma.reportLink!==undefined;}l=babelHelpers.inherits(ka,c('React').Component);m=l&&l.prototype;function ka(ma){m.constructor.call(this,ma);la.call(this);var na=ma.comment;this.state={isHighlighting:na.highlightcomment,wasHighlighted:na.highlightcomment,markedAsSpamHere:false,isInlinePageDeleted:false,isInlineBanned:false,loggedLiveUpdate:false,hideConstituentTitleNUXVisible:true,showBody:false};}ka.prototype.$UFIComment8=function(){return [z,aa];};ka.prototype.$UFIComment9=function(){return [{testid:u,value:q.edit,label:j._("Edit...")},ca];};ka.prototype.$UFIComment10=function(){this.setState({showBody:!c('UFIConfig').shouldTranslationsReplaceContent});if(!this.props.comment.translationdata)this.context.dispatch(c('UFICommentAction').translate(this.props.contextArgs,this.props.comment,c('TranslationTrigger').SEE_TRANSLATION));};ka.prototype.$UFIComment11=function(){var ma=this.props.comment,na=null,oa=null,pa=null,qa=c('UFICommentMenu.react').MenuType.CLOSE,ra=ma.canembed&&c('UFIConfig').showCommentEmbedOption,sa=ma.canEditConstituentTitle,ta=ma.constituentTitle;if(ma.canremove&&!this.props.hideAsSpamForPageAdmin){if(this.props.viewerIsAuthor&&ma.canedit){pa=ra?j._("Edit, delete or embed this"):j._("Edit or delete this");qa=c('UFICommentMenu.react').MenuType.EDIT;if(sa){if(ta){oa=[ea];}else oa=[da];oa=oa.concat(this.$UFIComment9());}else oa=this.$UFIComment9();}else if(this.props.showRemoveReportMenu){pa=ra?j._("Remove, report or embed this"):j._("Remove or report this");oa=this.$UFIComment8();}else if(this.props.feedback.customcommentactionlinks){pa=ra?j._("Remove this"):j._("Remove or embed this");oa=[z];qa=c('UFICommentMenu.react').MenuType.EDIT;}else{pa=ra?j._("Remove or embed this"):j._("Remove this");if(!ra){na=this.$UFIComment4;}else oa=[ca];}}else if(this.props.feedback.customcommentactionlinks){pa=ra?j._("Hide or embed this"):j._("Hide this");oa=[aa];qa=c('UFICommentMenu.react').MenuType.EDIT;}else if(ma.canreport){pa=ra?j._("Hide or embed this"):j._("Hide this");if(!ra){na=this.$UFIComment1;}else oa=[aa];}if(ra){oa.length>0||k(0);oa.push(ba);qa=c('UFICommentMenu.react').MenuType.CHEVRON;}if(this.props.feedback.customcommentactionlinks)for(var ua in this.props.feedback.customcommentactionlinks){var va=this.props.feedback.customcommentactionlinks[ua];if(!va.showInMenu)continue;oa.push({testid:va.type,value:va.type,label:va.title});}var wa=null;if(sa&&!ta&&c('UFIConfig').shouldShowHideConstituentTitleNUX)if(!fa){wa=this.$UFIComment12();c('UFIConfig').shouldShowHideConstituentTitleNUX=false;}var xa="UFICommentCloseButton"+(na===null&&oa===null?' '+"hdn":'')+(wa!==null?' '+"UFICommentCloseButtonNux":''),ya=null,za=null;if(this.props.contextArgs.viewas){ya='/ajax/profile/link_disabled_in_viewas.php';za='dialog';na=null;}return (c('React').createElement('span',null,c('React').createElement(c('UFICommentMenu.react'),{ajaxify:ya,'aria-label':pa,className:xa,'data-testid':r,onClick:na,rel:za,tooltip:pa,menuData:oa,menuType:qa,onAction:this.$UFIComment7,ref:'comment_menu'}),wa));};ka.prototype.$UFIComment13=function(){return (c('React').createElement(c('XUICloseButton.react'),{className:'UFICommentCloseButtonFake',tabIndex:'-1'}));};ka.prototype.$UFIComment12=function(){return (c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('XUIAmbientNUX.react').__setRef('UFIComment.react'),bootloadPlaceholder:c('React').createElement('div',null),contextRef:function(){return this.refs.comment_menu;}.bind(this),shown:this.state.hideConstituentTitleNUXVisible,position:'above',alignment:'right',onCloseButtonClick:this.$UFIComment14},j._("Your district is hidden on all comments. Edit any comment to your representatives to show it again.")));};ka.prototype.componentDidMount=function(){var ma,na=this;if(this.state.isHighlighting)(function(){var oa=c('ReactDOM').findDOMNode(na),pa=parseInt(na.props.comment.scrolltopoffset||0,10);c('Bootloader').loadModules(["UFIScrollHighlight"],function(qa){setTimeout(qa.actOn.bind(null,oa,pa),0);},'UFIComment.react');na.setState({isHighlighting:false});})();if(this.props.comment.fbid)c('UFISharedDispatcher').dispatch(c('UFICommentAction').mounted(this.props.contextArgs,{comment:this.props.comment,isLivePinnedComment:this.props.isLivePinnedComment}));};ka.prototype.componentWillUnmount=function(){if(this.props.comment.fbid)c('UFISharedDispatcher').dispatch(c('UFICommentAction').unmounted(this.props.contextArgs,{comment:this.props.comment,isLivePinnedComment:this.props.isLivePinnedComment}));};ka.prototype.shouldComponentUpdate=function(ma,na){var oa=this.props,pa=this.state;return (ma.comment!==oa.comment||ma.showReplyLink!==oa.showReplyLink||ma.isFirst!==oa.isFirst||ma.isLast!==oa.isLast||ma.isFirstCommentComponent!==oa.isFirstCommentComponent||ma.isLastCommentComponent!==oa.isLastCommentComponent||ma.isFirstComponent!==oa.isFirstComponent||ma.isLastComponent!==oa.isLastComponent||ma.isFeatured!==oa.isFeatured||ma.hasPartialBorder!==oa.hasPartialBorder||ma.showTranslation!==oa.showTranslation||na.wasHighlighted!==pa.wasHighlighted||na.isHighlighting!==pa.isHighlighting||na.markedAsSpamHere!==pa.markedAsSpamHere||na.isInlinePageDeleted!==pa.isInlinePageDeleted||na.isInlineBanned!==pa.isInlineBanned||na.hideConstituentTitleNUXVisible!==pa.hideConstituentTitleNUXVisible||na.showBody!==pa.showBody);};ka.prototype.$UFIComment15=function(ma,na){var oa=c('XUnifiedQueueReportedCommentsController').getURIBuilder().setInt('groupid',na).getURI();new (c('AsyncRequest'))(oa).setData({commentid:ma.fbid,uid:ma.author,keep:true,block:false}).send();};ka.prototype.$UFIComment16=function(ma,na){var oa=c('XUnifiedQueueReportedCommentsController').getURIBuilder().setInt('groupid',na).getURI();new (c('AsyncRequest'))(oa).setData({commentid:ma.fbid,uid:ma.author,keep:false,block:false}).send();};ka.prototype.$UFIComment17=function(ma,na){var oa=c('XUnifiedQueueReportedCommentsController').getURIBuilder().setInt('groupid',na).getURI();new (c('AsyncRequest'))(oa).setData({commentid:ma.fbid,uid:ma.author,keep:false,block:true}).send();};ka.prototype.render=function(){var ma=this.props,na=ma.contextArgs,oa=ma.comment,pa=ma.feedback,qa=oa.status===o.DELETED,ra=oa.status===o.LIVE_DELETED,sa=oa.status===o.SPAM_DISPLAY;if(qa)return null;var ta=this.state.markedAsSpamHere,ua=this.state.isInlinePageDeleted,va=this.props.hideAsSpamForPageAdmin,wa=this.state.isInlineBanned;if(oa.islive&&!this.state.loggedLiveUpdate){new (c('LiveWWWFeedbackTypedLogger'))().setEvent('update_view').setUpdateType('comment').setCommentID(oa.id).log();this.setState({loggedLiveUpdate:true});}var xa=ja(oa),ya=!oa.status&&(oa.isunseen||oa.islocal);if(!oa.status&&pa.lastseentime){var za=oa.originalTimestamp||oa.timestamp.time;ya=ya||za>pa.lastseentime;}var ab=na.markedcomments;if(ab&&ab[oa.legacyid])ya=true;if(this.props.orderingMode===c('WebCommentViewOption').LIVE_STREAMING||this.props.isLivePinnedComment)ya=false;var bb="UFIRow"+(this.props.isFirst?' '+"_48ph":'')+(this.props.isLast?' '+"UFILastComment":'')+(this.props.isFirstCommentComponent?' '+"_48pi":'')+(this.props.isLastCommentComponent?' '+"UFILastCommentComponent":'')+(this.props.isFirstComponent?' '+"_4204":'')+(this.props.isLastComponent?' '+"_2o9m":'')+(this.props.isLivePinnedComment?' '+"UFILivePinnedComment":''),cb=j._("Comment"),db=j._("Comment reply"),eb=oa.parentcommentid?db:cb;if(xa)if(ga){var fb=null,gb=null,hb=null,ib=null;if(va){hb=wa?this.$UFIComment6:this.$UFIComment5;if(ua){fb=j._("You've deleted this comment so no one can see it.");}else if(ta){fb=j._("Now this is only visible to the person who wrote it and their friends.");ib=this.$UFIComment3;gb=this.$UFIComment2;}}else if(ta){fb=j._("This comment has been hidden.");ib=this.$UFIComment3;gb=this.$UFIComment2;}if(fb)return (c('React').createElement('div',{className:bb,role:'article','aria-label':eb},c('React').createElement(ga,{notice:fb,comment:this.props.comment,authorProfiles:this.props.authorProfiles,onUndo:gb,onBanAction:hb,onDeleteAction:ib,isInlineBanned:wa,isInlinePageDeleted:ua,hideAsSpamForPageAdmin:va,pageID:this.props.feedback.ownerid})));}else c('Bootloader').loadModules(["UFICommentRemovalControls.react"],function(mb){ga=mb;setTimeout(function(){this.forceUpdate();}.bind(this));}.bind(this),'UFIComment.react');var jb=c('joinClasses')(bb,"UFIComment"+(ha(oa)?' '+"UFICommentFailed":'')+(ia(oa,na.location)?' '+"UFITipJarComment":'')+(ra||sa?' '+"UFITranslucentComment":'')+(this.state.isHighlighting?' '+"highlightComment":'')+(' '+"_4oep")+(this.props.hasPartialBorder?' '+"UFIPartialBorder":'')+(ya?' '+"UFIUnseenItem":'')),kb=this.renderComment(),lb=na.mayLogVPVs&&this.props.orderingMode===c('WebCommentViewOption').FILTERED;if(!oa.islocal){if(lb)kb=c('React').createElement(c('UFICommentVPVTracker.react'),{comment:oa,contextArgs:na},kb);kb=c('React').createElement(c('UFICommentVPVDTracker.react'),{renderedComment:{comment:oa,isLivePinnedComment:this.props.isLivePinnedComment},contextArgs:this.props.contextArgs},kb);}return (c('React').createElement('div',{className:jb,role:'article','aria-label':eb,'data-testid':this.state.wasHighlighted?s:null,'data-ft':this.props['data-ft']},kb));};ka.prototype.renderComment=function(){var ma=this.props,na=ma.comment,oa=ma.permalink,pa=ma.feedback,qa=na.body?na.body.text:'',ra=c('UFICommentUtils').shallowCopyRanges(na.body&&na.body.ranges),sa=ma.authorProfiles[na.author],ta=na.status===o.SPAM_DISPLAY,ua=na.status===o.LIVE_DELETED,va=!(ta||ua),wa=pa.canremoveall||na.hiddenbyviewer;qa=c('UFICommentUtils').getCommentTextWithTruncatedURIs(ra,qa);var xa=null,ya=null;if(!ma.isLocallyComposed&&!this.state.wasHighlighted){ya=c('UFIConstants').commentTruncationLength;xa=c('UFIConstants').commentTruncationMaxLines;}var za=c('TrackingNodes').getTrackingInfo(c('TrackingNodes').types.SMALL_ACTOR_PHOTO),ab=false;if(this.props.featuredCommentIDs&&this.props.featuredCommentIDs.indexOf(this.props.comment.fbid)>-1)ab=true;var bb=null;if(na.body&&na.body.markdown_enabled&&na.body.markup){if(c('HTML').isHTML(na.body.markup)){bb=c('React').createElement('span',{dangerouslySetInnerHTML:na.body.markup});}else bb=c('React').createElement(c('DOMContainer.react'),null,na.body.markup);}else bb=c('React').createElement(c('UFICommentBody.react'),{socialContext:na.socialcontext,commentText:qa,commentRanges:ra,groupOrEventID:pa.grouporeventid,maxLength:ya,maxLines:xa,markViewerHasInteracted:this.props.markViewerHasInteracted,shouldExpand:ab,ufiInstanceID:this.props.contextArgs.instanceid,commentFBID:na.fbid,isLiveStreaming:ma.contextArgs.islivestreaming});var cb=na.translationdata,db=cb&&cb.translatedText&&cb.translatedText.text,eb=!db||this.state.showBody||cb.trigger===c('TranslationTrigger').LOGGED_OUT_AUTO_TRANSLATION,fb=this.props.showTranslation&&!cb||!!cb&&(!c('UFIConfig').shouldTranslationsReplaceContent||!eb||!db||cb.trigger===c('TranslationTrigger').LOGGED_OUT_AUTO_TRANSLATION),gb=c('React').createElement('span',null,eb?bb:null,na.istranslatable||!!cb?c('React').createElement(c('UFICommentTranslation.react'),{translationData:cb,showTranslation:fb,isShowingOriginal:eb,shouldExpand:ab,onSeeTranslation:function(){return this.$UFIComment10();}.bind(this),onSeeOriginal:function(){return this.setState({showBody:true});}.bind(this)}):null),hb=ma.contextArgs.viewas?null:c('HovercardLink').constructEndpointWithGroupLocationAndExtraParams(sa,pa.grouporeventid,c('UserHovercardLocation').UFI,na.isauthorweakreference,{on_public_ufi:pa.ispublic}).toString(),ib=ma.contextArgs.disableCommentAuthorLink,jb=c('React').createElement(c('UFICommentAuthorName.react'),{author:sa,authorProfiles:ma.authorProfiles,disableAuthorLink:ib,showHovercard:!!hb,isAuthorWeakReference:na.isauthorweakreference,isAuthorNonCoworker:na.isauthornoncoworker,memberBioBadgeURI:na.memberbiobadgeuri,isAdminViewer:ma.feedback.isadminviewer,focusOnMount:ma.focusOnMount,groupOrEventID:pa.grouporeventid,isFeatured:ma.isFeatured,socialContext:na.socialcontext,isPublic:pa.ispublic,constituentTitle:na.constituentTitle}),kb=null;if(ma.contextArgs.isLiveVOD)kb=c('React').createElement(c('UFILiveCommentTimestamp.react'),{comment:na,contextArgs:ma.contextArgs});var lb=null;if(na.photo_comment_status)lb=c('React').createElement('div',{className:"_50f8"},na.photo_comment_status);var mb=null;if(na.sticker_attachment_status)mb=c('React').createElement('div',{className:"_50f8"},na.sticker_attachment_status);var nb=c('React').createElement(c('UFICommentAttachment.react'),{comment:ma.comment}),ob=c('React').createElement(c('UFIActorIconContainer.react'),{actorID:na.author});if(sa.uri||sa.isBusinessPersona)ob=c('React').createElement('a',{'data-ft':za,'data-hovercard':hb,href:c('UFICommentUtils').annotateProfileURIIfPublic(pa.ispublic,sa.uri)},ob);var pb=null;if(this.props.isLivePinnedComment){var qb=j._("Pinned Comment");pb=c('React').createElement('span',{className:"UFILivePinnedCommentLabel"},c('React').createElement(c('Image.react'),{className:'UFILivePinnedCommentGlyph',src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/pushpin_12_fig-blue.png")}),qb);}var rb=na.tipjarAmount?c('React').createElement(c('VideoTipJarCommentBackground.react'),{amount:na.tipjarAmount}):va?this.$UFIComment13():null,sb=na.isReported?c('React').createElement('div',null,c('React').createElement(c('XUIButton.react'),{label:j._("Ignore"),type:'button',onClick:function(){return this.$UFIComment15(na,pa.grouporeventid);}.bind(this)}),c('React').createElement(c('XUIButton.react'),{label:j._("Delete"),type:'button',onClick:function(){return this.$UFIComment16(na,pa.grouporeventid);}.bind(this)}),c('React').createElement(c('XUIButton.react'),{label:j._("Delete and Block"),type:'button',onClick:function(){return this.$UFIComment17(na,pa.grouporeventid);}.bind(this)})):null;return (c('React').createElement('div',null,pb,c('React').createElement(c('UFIImageBlock.react'),{spacing:'medium'},ob,c('React').createElement('div',{className:'UFICommentContentBlock'},c('React').createElement('div',{className:'UFICommentContent'},jb,kb,gb,nb),lb,mb,c('React').createElement(c('UFICommentActions.react'),{comment:na,feedback:pa,parentCanComment:ma.parentCanComment,permalink:oa,viewerCanMarkNotSpam:wa,showPermalink:ma.showPermalink,showReplyLink:ma.showReplyLink,contextArgs:ma.contextArgs,markedAsSpamHere:this.state.markedAsSpamHere,hideAsSpamForPageAdmin:ma.hideAsSpamForPageAdmin,orderingMode:ma.orderingMode}),sb,va?this.$UFIComment11():null),rb)));};ka.propTypes={authorProfiles:n.object.isRequired,comment:n.object.isRequired,contextArgs:n.object.isRequired,feedback:n.object.isRequired,'data-ft':n.string,featuredCommentIDs:n.array,focusOnMount:n.bool,hasPartialBorder:n.bool,hideAsSpamForPageAdmin:n.bool,isFeatured:n.bool,isFirst:n.bool,isFirstCommentComponent:n.bool,isFirstComponent:n.bool,isLast:n.bool,isLastCommentComponent:n.bool,isLastComponent:n.bool,isLivePinnedComment:n.bool,isLocallyComposed:n.bool,parentCanComment:n.bool,permalink:n.string,showPermalink:n.bool,showRemoveReportMenu:n.bool,showReplyLink:n.bool,viewerIsAuthor:n.bool,orderingMode:n.string,markViewerHasInteracted:n.func,showTranslation:n.bool};ka.contextTypes={dispatch:n.func};var la=function ma(){this.$UFIComment1=function(event){this.context.dispatch(c('UFICommentAction').markAsSpam(this.props.contextArgs,this.props.comment,event));this.setState({markedAsSpamHere:true});}.bind(this);this.$UFIComment2=function(event){this.context.dispatch(c('UFICommentAction').markAsNotSpam(this.props.contextArgs,this.props.comment,event));this.setState({markedAsSpamHere:false});}.bind(this);this.$UFIComment3=function(event){this.context.dispatch(c('UFICommentAction').remove(this.props.contextArgs,this.props.comment,event.target,function(){return this.setState({isInlinePageDeleted:true});}.bind(this)));}.bind(this);this.$UFIComment4=function(event){this.context.dispatch(c('UFICommentAction').remove(this.props.contextArgs,this.props.comment,event.target,c('emptyFunction')));}.bind(this);this.$UFIComment5=function(event){this.context.dispatch(c('UFICommentAction').inlineBan(this.props.contextArgs,this.props.comment,event,this.props.feedback.ownerid));this.setState({isInlineBanned:true});}.bind(this);this.$UFIComment6=function(event){this.context.dispatch(c('UFICommentAction').undoInlineBan(this.props.contextArgs,this.props.comment,event,this.props.feedback.ownerid));this.setState({isInlineBanned:false});}.bind(this);this.$UFIComment7=function(event,na){var oa=na.item,pa=oa.getValue();setTimeout(function(){var qa=this.props,ra=qa.comment,sa=qa.contextArgs,ta=qa.feedback;if(pa===q.remove){this.$UFIComment4(event);}else if(pa===q.edit){this.context.dispatch(c('UFICommentAction').edit(sa,ra));}else if(pa===q.hide){this.$UFIComment1(event);}else if(pa===q.embed){this.context.dispatch(c('UFICommentAction').embed(sa,ra));}else if(pa===q.showConstituentTitle){this.context.dispatch(c('UFICommentAction').showConstituentTitle(sa,ra));}else if(pa===q.hideConstituentTitle){this.context.dispatch(c('UFICommentAction').hideConstituentTitle(sa,ra));}else c('UFICentralUpdates').inform(pa,{comment:ra,feedback:ta});}.bind(this),0);}.bind(this);this.$UFIComment14=function(){fa=true;this.setState({hideConstituentTitleNUXVisible:false});var na=c('XFeedNUXSaveSeenStateController').getURIBuilder().setString('key','hide_constituent_title_comments').setBool('seen',true).getURI();new (c('AsyncRequest'))(na).send();}.bind(this);};f.exports=ka;}),null);